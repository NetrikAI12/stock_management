(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function op(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function lp(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var n=d.default;if(typeof n=="function"){var s=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(d).forEach(function(a){var l=Object.getOwnPropertyDescriptor(d,a);Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:function(){return d[a]}})}),s}var Co={exports:{}},rs={},To={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function up(){if(Zc)return re;Zc=1;var d=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=_&&S[_]||S["@@iterator"],typeof S=="function"?S:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,C={};function P(S,R,te){this.props=S,this.context=R,this.refs=C,this.updater=te||I}P.prototype.isReactComponent={},P.prototype.setState=function(S,R){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,R,"setState")},P.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function N(){}N.prototype=P.prototype;function B(S,R,te){this.props=S,this.context=R,this.refs=C,this.updater=te||I}var D=B.prototype=new N;D.constructor=B,U(D,P.prototype),D.isPureReactComponent=!0;var W=Array.isArray,ne=Object.prototype.hasOwnProperty,ee={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function st(S,R,te){var se,le={},ue=null,pe=null;if(R!=null)for(se in R.ref!==void 0&&(pe=R.ref),R.key!==void 0&&(ue=""+R.key),R)ne.call(R,se)&&!ae.hasOwnProperty(se)&&(le[se]=R[se]);var he=arguments.length-2;if(he===1)le.children=te;else if(1<he){for(var we=Array(he),Ze=0;Ze<he;Ze++)we[Ze]=arguments[Ze+2];le.children=we}if(S&&S.defaultProps)for(se in he=S.defaultProps,he)le[se]===void 0&&(le[se]=he[se]);return{$$typeof:d,type:S,key:ue,ref:pe,props:le,_owner:ee.current}}function Ft(S,R){return{$$typeof:d,type:S.type,key:R,ref:S.ref,props:S.props,_owner:S._owner}}function Tt(S){return typeof S=="object"&&S!==null&&S.$$typeof===d}function hr(S){var R={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return R[te]})}var kt=/\/+/g;function Ye(S,R){return typeof S=="object"&&S!==null&&S.key!=null?hr(""+S.key):R.toString(36)}function dt(S,R,te,se,le){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(ue){case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case d:case n:pe=!0}}if(pe)return pe=S,le=le(pe),S=se===""?"."+Ye(pe,0):se,W(le)?(te="",S!=null&&(te=S.replace(kt,"$&/")+"/"),dt(le,R,te,"",function(Ze){return Ze})):le!=null&&(Tt(le)&&(le=Ft(le,te+(!le.key||pe&&pe.key===le.key?"":(""+le.key).replace(kt,"$&/")+"/")+S)),R.push(le)),1;if(pe=0,se=se===""?".":se+":",W(S))for(var he=0;he<S.length;he++){ue=S[he];var we=se+Ye(ue,he);pe+=dt(ue,R,te,we,le)}else if(we=T(S),typeof we=="function")for(S=we.call(S),he=0;!(ue=S.next()).done;)ue=ue.value,we=se+Ye(ue,he++),pe+=dt(ue,R,te,we,le);else if(ue==="object")throw R=String(S),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return pe}function _t(S,R,te){if(S==null)return S;var se=[],le=0;return dt(S,se,"","",function(ue){return R.call(te,ue,le++)}),se}function We(S){if(S._status===-1){var R=S._result;R=R(),R.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=R)}if(S._status===1)return S._result.default;throw S._result}var Se={current:null},M={transition:null},G={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:M,ReactCurrentOwner:ee};function q(){throw Error("act(...) is not supported in production builds of React.")}return re.Children={map:_t,forEach:function(S,R,te){_t(S,function(){R.apply(this,arguments)},te)},count:function(S){var R=0;return _t(S,function(){R++}),R},toArray:function(S){return _t(S,function(R){return R})||[]},only:function(S){if(!Tt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},re.Component=P,re.Fragment=s,re.Profiler=l,re.PureComponent=B,re.StrictMode=a,re.Suspense=m,re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,re.act=q,re.cloneElement=function(S,R,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var se=U({},S.props),le=S.key,ue=S.ref,pe=S._owner;if(R!=null){if(R.ref!==void 0&&(ue=R.ref,pe=ee.current),R.key!==void 0&&(le=""+R.key),S.type&&S.type.defaultProps)var he=S.type.defaultProps;for(we in R)ne.call(R,we)&&!ae.hasOwnProperty(we)&&(se[we]=R[we]===void 0&&he!==void 0?he[we]:R[we])}var we=arguments.length-2;if(we===1)se.children=te;else if(1<we){he=Array(we);for(var Ze=0;Ze<we;Ze++)he[Ze]=arguments[Ze+2];se.children=he}return{$$typeof:d,type:S.type,key:le,ref:ue,props:se,_owner:pe}},re.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},re.createElement=st,re.createFactory=function(S){var R=st.bind(null,S);return R.type=S,R},re.createRef=function(){return{current:null}},re.forwardRef=function(S){return{$$typeof:g,render:S}},re.isValidElement=Tt,re.lazy=function(S){return{$$typeof:w,_payload:{_status:-1,_result:S},_init:We}},re.memo=function(S,R){return{$$typeof:v,type:S,compare:R===void 0?null:R}},re.startTransition=function(S){var R=M.transition;M.transition={};try{S()}finally{M.transition=R}},re.unstable_act=q,re.useCallback=function(S,R){return Se.current.useCallback(S,R)},re.useContext=function(S){return Se.current.useContext(S)},re.useDebugValue=function(){},re.useDeferredValue=function(S){return Se.current.useDeferredValue(S)},re.useEffect=function(S,R){return Se.current.useEffect(S,R)},re.useId=function(){return Se.current.useId()},re.useImperativeHandle=function(S,R,te){return Se.current.useImperativeHandle(S,R,te)},re.useInsertionEffect=function(S,R){return Se.current.useInsertionEffect(S,R)},re.useLayoutEffect=function(S,R){return Se.current.useLayoutEffect(S,R)},re.useMemo=function(S,R){return Se.current.useMemo(S,R)},re.useReducer=function(S,R,te){return Se.current.useReducer(S,R,te)},re.useRef=function(S){return Se.current.useRef(S)},re.useState=function(S){return Se.current.useState(S)},re.useSyncExternalStore=function(S,R,te){return Se.current.useSyncExternalStore(S,R,te)},re.useTransition=function(){return Se.current.useTransition()},re.version="18.3.1",re}var ed;function Yo(){return ed||(ed=1,To.exports=up()),To.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function cp(){if(td)return rs;td=1;var d=Yo(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(g,m,v){var w,_={},T=null,I=null;v!==void 0&&(T=""+v),m.key!==void 0&&(T=""+m.key),m.ref!==void 0&&(I=m.ref);for(w in m)a.call(m,w)&&!u.hasOwnProperty(w)&&(_[w]=m[w]);if(g&&g.defaultProps)for(w in m=g.defaultProps,m)_[w]===void 0&&(_[w]=m[w]);return{$$typeof:n,type:g,key:T,ref:I,props:_,_owner:l.current}}return rs.Fragment=s,rs.jsx=f,rs.jsxs=f,rs}var rd;function dp(){return rd||(rd=1,Co.exports=cp()),Co.exports}var h=dp(),Z=Yo(),bi={},Po={exports:{}},Xe={},Oo={exports:{}},Io={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function hp(){return nd||(nd=1,(function(d){function n(M,G){var q=M.length;M.push(G);e:for(;0<q;){var S=q-1>>>1,R=M[S];if(0<l(R,G))M[S]=G,M[q]=R,q=S;else break e}}function s(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var G=M[0],q=M.pop();if(q!==G){M[0]=q;e:for(var S=0,R=M.length,te=R>>>1;S<te;){var se=2*(S+1)-1,le=M[se],ue=se+1,pe=M[ue];if(0>l(le,q))ue<R&&0>l(pe,le)?(M[S]=pe,M[ue]=q,S=ue):(M[S]=le,M[se]=q,S=se);else if(ue<R&&0>l(pe,q))M[S]=pe,M[ue]=q,S=ue;else break e}}return G}function l(M,G){var q=M.sortIndex-G.sortIndex;return q!==0?q:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;d.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();d.unstable_now=function(){return f.now()-g}}var m=[],v=[],w=1,_=null,T=3,I=!1,U=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(M){for(var G=s(v);G!==null;){if(G.callback===null)a(v);else if(G.startTime<=M)a(v),G.sortIndex=G.expirationTime,n(m,G);else break;G=s(v)}}function W(M){if(C=!1,D(M),!U)if(s(m)!==null)U=!0,We(ne);else{var G=s(v);G!==null&&Se(W,G.startTime-M)}}function ne(M,G){U=!1,C&&(C=!1,N(st),st=-1),I=!0;var q=T;try{for(D(G),_=s(m);_!==null&&(!(_.expirationTime>G)||M&&!hr());){var S=_.callback;if(typeof S=="function"){_.callback=null,T=_.priorityLevel;var R=S(_.expirationTime<=G);G=d.unstable_now(),typeof R=="function"?_.callback=R:_===s(m)&&a(m),D(G)}else a(m);_=s(m)}if(_!==null)var te=!0;else{var se=s(v);se!==null&&Se(W,se.startTime-G),te=!1}return te}finally{_=null,T=q,I=!1}}var ee=!1,ae=null,st=-1,Ft=5,Tt=-1;function hr(){return!(d.unstable_now()-Tt<Ft)}function kt(){if(ae!==null){var M=d.unstable_now();Tt=M;var G=!0;try{G=ae(!0,M)}finally{G?Ye():(ee=!1,ae=null)}}else ee=!1}var Ye;if(typeof B=="function")Ye=function(){B(kt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,_t=dt.port2;dt.port1.onmessage=kt,Ye=function(){_t.postMessage(null)}}else Ye=function(){P(kt,0)};function We(M){ae=M,ee||(ee=!0,Ye())}function Se(M,G){st=P(function(){M(d.unstable_now())},G)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(M){M.callback=null},d.unstable_continueExecution=function(){U||I||(U=!0,We(ne))},d.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ft=0<M?Math.floor(1e3/M):5},d.unstable_getCurrentPriorityLevel=function(){return T},d.unstable_getFirstCallbackNode=function(){return s(m)},d.unstable_next=function(M){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var q=T;T=G;try{return M()}finally{T=q}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=T;T=M;try{return G()}finally{T=q}},d.unstable_scheduleCallback=function(M,G,q){var S=d.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?S+q:S):q=S,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=q+R,M={id:w++,callback:G,priorityLevel:M,startTime:q,expirationTime:R,sortIndex:-1},q>S?(M.sortIndex=q,n(v,M),s(m)===null&&M===s(v)&&(C?(N(st),st=-1):C=!0,Se(W,q-S))):(M.sortIndex=R,n(m,M),U||I||(U=!0,We(ne))),M},d.unstable_shouldYield=hr,d.unstable_wrapCallback=function(M){var G=T;return function(){var q=T;T=G;try{return M.apply(this,arguments)}finally{T=q}}}})(Io)),Io}var sd;function fp(){return sd||(sd=1,Oo.exports=hp()),Oo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function pp(){if(id)return Xe;id=1;var d=Yo(),n=fp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},_={};function T(e){return m.call(_,e)?!0:m.call(w,e)?!1:v.test(e)?_[e]=!0:(w[e]=!0,!1)}function I(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,t,r,i){if(t===null||typeof t>"u"||I(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,r,i,o,c,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N,B);P[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N,B);P[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N,B);P[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,r,i){var o=P.hasOwnProperty(t)?P[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U(t,r,o,i)&&(r=null),i||o===null?T(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,i=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var W=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ee=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),Ft=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),hr=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),M=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,S;function R(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var te=!1;function se(e,t){if(!e||te)return"";te=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(E){var i=E}Reflect.construct(e,[],t)}else{try{t.call()}catch(E){i=E}e.call(t.prototype)}else{try{throw Error()}catch(E){i=E}e()}}catch(E){if(E&&i&&typeof E.stack=="string"){for(var o=E.stack.split(`
`),c=i.stack.split(`
`),p=o.length-1,y=c.length-1;1<=p&&0<=y&&o[p]!==c[y];)y--;for(;1<=p&&0<=y;p--,y--)if(o[p]!==c[y]){if(p!==1||y!==1)do if(p--,y--,0>y||o[p]!==c[y]){var x=`
`+o[p].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=p&&0<=y);break}}}finally{te=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?R(e):""}function le(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case ee:return"Portal";case Ft:return"Profiler";case st:return"StrictMode";case Ye:return"Suspense";case dt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hr:return(e.displayName||"Context")+".Consumer";case Tt:return(e._context.displayName||"Context")+".Provider";case kt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _t:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case We:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===st?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ze(e){var t=we(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){i=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=Ze(e))}function il(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=we(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ai(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function al(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=he(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ol(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function Li(e,t){ol(e,t);var r=he(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$i(e,t.type,r):t.hasOwnProperty("defaultValue")&&$i(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ll(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $i(e,t,r){(t!=="number"||gs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yn=Array.isArray;function Or(e,t,r,i){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(r=""+he(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ui(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ul(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(yn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:he(r)}}function cl(e,t){var r=he(t.value),i=he(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function dl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Di(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,fl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ch=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){ch.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wn[t]=wn[e]})});function pl(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wn.hasOwnProperty(e)&&wn[e]?(""+t).trim():t+"px"}function gl(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=pl(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}var dh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mi(e,t){if(t){if(dh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function zi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fi=null;function Bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,Ir=null,Rr=null;function ml(e){if(e=Fn(e)){if(typeof qi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ms(t),qi(e.stateNode,e.type,t))}}function yl(e){Ir?Rr?Rr.push(e):Rr=[e]:Ir=e}function vl(){if(Ir){var e=Ir,t=Rr;if(Rr=Ir=null,ml(e),t)for(e=0;e<t.length;e++)ml(t[e])}}function wl(e,t){return e(t)}function xl(){}var Vi=!1;function kl(e,t,r){if(Vi)return e(t,r);Vi=!0;try{return wl(e,t,r)}finally{Vi=!1,(Ir!==null||Rr!==null)&&(xl(),vl())}}function xn(e,t){var r=e.stateNode;if(r===null)return null;var i=Ms(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Wi=!1;if(g)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Wi=!1}function hh(e,t,r,i,o,c,p,y,x){var E=Array.prototype.slice.call(arguments,3);try{t.apply(r,E)}catch(A){this.onError(A)}}var _n=!1,ys=null,vs=!1,Hi=null,fh={onError:function(e){_n=!0,ys=e}};function ph(e,t,r,i,o,c,p,y,x){_n=!1,ys=null,hh.apply(fh,arguments)}function gh(e,t,r,i,o,c,p,y,x){if(ph.apply(this,arguments),_n){if(_n){var E=ys;_n=!1,ys=null}else throw Error(s(198));vs||(vs=!0,Hi=E)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _l(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sl(e){if(fr(e)!==e)throw Error(s(188))}function mh(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(o===null)break;var c=o.alternate;if(c===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===r)return Sl(o),e;if(c===i)return Sl(o),t;c=c.sibling}throw Error(s(188))}if(r.return!==i.return)r=o,i=c;else{for(var p=!1,y=o.child;y;){if(y===r){p=!0,r=o,i=c;break}if(y===i){p=!0,i=o,r=c;break}y=y.sibling}if(!p){for(y=c.child;y;){if(y===r){p=!0,r=c,i=o;break}if(y===i){p=!0,i=c,r=o;break}y=y.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function bl(e){return e=mh(e),e!==null?jl(e):null}function jl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jl(e);if(t!==null)return t;e=e.sibling}return null}var Nl=n.unstable_scheduleCallback,El=n.unstable_cancelCallback,yh=n.unstable_shouldYield,vh=n.unstable_requestPaint,je=n.unstable_now,wh=n.unstable_getCurrentPriorityLevel,Ki=n.unstable_ImmediatePriority,Cl=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,xh=n.unstable_LowPriority,Tl=n.unstable_IdlePriority,xs=null,St=null;function kh(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(xs,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:bh,_h=Math.log,Sh=Math.LN2;function bh(e){return e>>>=0,e===0?32:31-(_h(e)/Sh|0)|0}var ks=64,_s=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ss(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,c=e.pingedLanes,p=r&268435455;if(p!==0){var y=p&~o;y!==0?i=Sn(y):(c&=p,c!==0&&(i=Sn(c)))}else p=r&~o,p!==0?i=Sn(p):c!==0&&(i=Sn(c));if(i===0)return 0;if(t!==0&&t!==i&&(t&o)===0&&(o=i&-i,c=t&-t,o>=c||o===16&&(c&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-ht(t),o=1<<r,i|=e[r],t&=~o;return i}function jh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nh(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var p=31-ht(c),y=1<<p,x=o[p];x===-1?((y&r)===0||(y&i)!==0)&&(o[p]=jh(y,t)):x<=t&&(e.expiredLanes|=y),c&=~y}}function Qi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pl(){var e=ks;return ks<<=1,(ks&4194240)===0&&(ks=64),e}function Ji(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=r}function Eh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-ht(r),c=1<<o;t[o]=0,i[o]=-1,e[o]=-1,r&=~c}}function Gi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-ht(r),o=1<<i;o&t|e[i]&t&&(e[i]|=t),r&=~o}}var fe=0;function Ol(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Il,Xi,Rl,Al,Ll,Yi=!1,bs=[],Bt=null,qt=null,Vt=null,jn=new Map,Nn=new Map,Wt=[],Ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(t.pointerId)}}function En(e,t,r,i,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Fn(t),t!==null&&Xi(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Th(e,t,r,i,o){switch(t){case"focusin":return Bt=En(Bt,e,t,r,i,o),!0;case"dragenter":return qt=En(qt,e,t,r,i,o),!0;case"mouseover":return Vt=En(Vt,e,t,r,i,o),!0;case"pointerover":var c=o.pointerId;return jn.set(c,En(jn.get(c)||null,e,t,r,i,o)),!0;case"gotpointercapture":return c=o.pointerId,Nn.set(c,En(Nn.get(c)||null,e,t,r,i,o)),!0}return!1}function Ul(e){var t=pr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=_l(r),t!==null){e.blockedOn=t,Ll(e.priority,function(){Rl(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ea(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Fi=i,r.target.dispatchEvent(i),Fi=null}else return t=Fn(r),t!==null&&Xi(t),e.blockedOn=r,!1;t.shift()}return!0}function Dl(e,t,r){js(e)&&r.delete(t)}function Ph(){Yi=!1,Bt!==null&&js(Bt)&&(Bt=null),qt!==null&&js(qt)&&(qt=null),Vt!==null&&js(Vt)&&(Vt=null),jn.forEach(Dl),Nn.forEach(Dl)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,Yi||(Yi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ph)))}function Tn(e){function t(o){return Cn(o,e)}if(0<bs.length){Cn(bs[0],e);for(var r=1;r<bs.length;r++){var i=bs[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Bt!==null&&Cn(Bt,e),qt!==null&&Cn(qt,e),Vt!==null&&Cn(Vt,e),jn.forEach(t),Nn.forEach(t),r=0;r<Wt.length;r++)i=Wt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Wt.length&&(r=Wt[0],r.blockedOn===null);)Ul(r),r.blockedOn===null&&Wt.shift()}var Ar=W.ReactCurrentBatchConfig,Ns=!0;function Oh(e,t,r,i){var o=fe,c=Ar.transition;Ar.transition=null;try{fe=1,Zi(e,t,r,i)}finally{fe=o,Ar.transition=c}}function Ih(e,t,r,i){var o=fe,c=Ar.transition;Ar.transition=null;try{fe=4,Zi(e,t,r,i)}finally{fe=o,Ar.transition=c}}function Zi(e,t,r,i){if(Ns){var o=ea(e,t,r,i);if(o===null)ya(e,t,i,Es,r),$l(e,i);else if(Th(o,e,t,r,i))i.stopPropagation();else if($l(e,i),t&4&&-1<Ch.indexOf(e)){for(;o!==null;){var c=Fn(o);if(c!==null&&Il(c),c=ea(e,t,r,i),c===null&&ya(e,t,i,Es,r),c===o)break;o=c}o!==null&&i.stopPropagation()}else ya(e,t,i,null,r)}}var Es=null;function ea(e,t,r,i){if(Es=null,e=Bi(i),e=pr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_l(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Es=e,null}function Ml(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wh()){case Ki:return 1;case Cl:return 4;case ws:case xh:return 16;case Tl:return 536870912;default:return 16}default:return 16}}var Ht=null,ta=null,Cs=null;function zl(){if(Cs)return Cs;var e,t=ta,r=t.length,i,o="value"in Ht?Ht.value:Ht.textContent,c=o.length;for(e=0;e<r&&t[e]===o[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===o[c-i];i++);return Cs=o.slice(e,1<i?1-i:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function Fl(){return!1}function et(e){function t(r,i,o,c,p){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ps:Fl,this.isPropagationStopped=Fl,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=et(Lr),Pn=q({},Lr,{view:0,detail:0}),Rh=et(Pn),na,sa,On,Os=q({},Pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(na=e.screenX-On.screenX,sa=e.screenY-On.screenY):sa=na=0,On=e),na)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Bl=et(Os),Ah=q({},Os,{dataTransfer:0}),Lh=et(Ah),$h=q({},Pn,{relatedTarget:0}),ia=et($h),Uh=q({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dh=et(Uh),Mh=q({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zh=et(Mh),Fh=q({},Lr,{data:0}),ql=et(Fh),Bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vh[e])?!!t[e]:!1}function aa(){return Wh}var Hh=q({},Pn,{key:function(e){if(e.key){var t=Bh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kh=et(Hh),Qh=q({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=et(Qh),Jh=q({},Pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),Gh=et(Jh),Xh=q({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yh=et(Xh),Zh=q({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ef=et(Zh),tf=[9,13,27,32],oa=g&&"CompositionEvent"in window,In=null;g&&"documentMode"in document&&(In=document.documentMode);var rf=g&&"TextEvent"in window&&!In,Wl=g&&(!oa||In&&8<In&&11>=In),Hl=" ",Kl=!1;function Ql(e,t){switch(e){case"keyup":return tf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function nf(e,t){switch(e){case"compositionend":return Jl(t);case"keypress":return t.which!==32?null:(Kl=!0,Hl);case"textInput":return e=t.data,e===Hl&&Kl?null:e;default:return null}}function sf(e,t){if($r)return e==="compositionend"||!oa&&Ql(e,t)?(e=zl(),Cs=ta=Ht=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wl&&t.locale!=="ko"?null:t.data;default:return null}}var af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!af[e.type]:t==="textarea"}function Xl(e,t,r,i){yl(i),t=$s(t,"onChange"),0<t.length&&(r=new ra("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Rn=null,An=null;function of(e){gu(e,0)}function Is(e){var t=Fr(e);if(il(t))return e}function lf(e,t){if(e==="change")return t}var Yl=!1;if(g){var la;if(g){var ua="oninput"in document;if(!ua){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),ua=typeof Zl.oninput=="function"}la=ua}else la=!1;Yl=la&&(!document.documentMode||9<document.documentMode)}function eu(){Rn&&(Rn.detachEvent("onpropertychange",tu),An=Rn=null)}function tu(e){if(e.propertyName==="value"&&Is(An)){var t=[];Xl(t,An,e,Bi(e)),kl(of,t)}}function uf(e,t,r){e==="focusin"?(eu(),Rn=t,An=r,Rn.attachEvent("onpropertychange",tu)):e==="focusout"&&eu()}function cf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(An)}function df(e,t){if(e==="click")return Is(t)}function hf(e,t){if(e==="input"||e==="change")return Is(t)}function ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:ff;function Ln(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!m.call(t,o)||!ft(e[o],t[o]))return!1}return!0}function ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var r=ru(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ru(r)}}function su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iu(){for(var e=window,t=gs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gs(e.document)}return t}function ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pf(e){var t=iu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&su(r.ownerDocument.documentElement,r)){if(i!==null&&ca(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,c=Math.min(i.start,o);i=i.end===void 0?c:Math.min(i.end,o),!e.extend&&c>i&&(o=i,i=c,c=o),o=nu(r,c);var p=nu(r,i);o&&p&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),c>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gf=g&&"documentMode"in document&&11>=document.documentMode,Ur=null,da=null,$n=null,ha=!1;function au(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ha||Ur==null||Ur!==gs(i)||(i=Ur,"selectionStart"in i&&ca(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$n&&Ln($n,i)||($n=i,i=$s(da,"onSelect"),0<i.length&&(t=new ra("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Ur)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},fa={},ou={};g&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function As(e){if(fa[e])return fa[e];if(!Dr[e])return e;var t=Dr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ou)return fa[e]=t[r];return e}var lu=As("animationend"),uu=As("animationiteration"),cu=As("animationstart"),du=As("transitionend"),hu=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){hu.set(e,t),u(t,[e])}for(var pa=0;pa<fu.length;pa++){var ga=fu[pa],mf=ga.toLowerCase(),yf=ga[0].toUpperCase()+ga.slice(1);Kt(mf,"on"+yf)}Kt(lu,"onAnimationEnd"),Kt(uu,"onAnimationIteration"),Kt(cu,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(du,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function pu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,gh(i,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var p=i.length-1;0<=p;p--){var y=i[p],x=y.instance,E=y.currentTarget;if(y=y.listener,x!==c&&o.isPropagationStopped())break e;pu(o,y,E),c=x}else for(p=0;p<i.length;p++){if(y=i[p],x=y.instance,E=y.currentTarget,y=y.listener,x!==c&&o.isPropagationStopped())break e;pu(o,y,E),c=x}}}if(vs)throw e=Hi,vs=!1,Hi=null,e}function ye(e,t){var r=t[Sa];r===void 0&&(r=t[Sa]=new Set);var i=e+"__bubble";r.has(i)||(mu(t,e,2,!1),r.add(i))}function ma(e,t,r){var i=0;t&&(i|=4),mu(r,e,i,t)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function Dn(e){if(!e[Ls]){e[Ls]=!0,a.forEach(function(r){r!=="selectionchange"&&(vf.has(r)||ma(r,!1,e),ma(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ls]||(t[Ls]=!0,ma("selectionchange",!1,t))}}function mu(e,t,r,i){switch(Ml(t)){case 1:var o=Oh;break;case 4:o=Ih;break;default:o=Zi}r=o.bind(null,t,r,e),o=void 0,!Wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function ya(e,t,r,i,o){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var y=i.stateNode.containerInfo;if(y===o||y.nodeType===8&&y.parentNode===o)break;if(p===4)for(p=i.return;p!==null;){var x=p.tag;if((x===3||x===4)&&(x=p.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;p=p.return}for(;y!==null;){if(p=pr(y),p===null)return;if(x=p.tag,x===5||x===6){i=c=p;continue e}y=y.parentNode}}i=i.return}kl(function(){var E=c,A=Bi(r),L=[];e:{var O=hu.get(e);if(O!==void 0){var z=ra,V=e;switch(e){case"keypress":if(Ts(r)===0)break e;case"keydown":case"keyup":z=Kh;break;case"focusin":V="focus",z=ia;break;case"focusout":V="blur",z=ia;break;case"beforeblur":case"afterblur":z=ia;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Gh;break;case lu:case uu:case cu:z=Dh;break;case du:z=Yh;break;case"scroll":z=Rh;break;case"wheel":z=ef;break;case"copy":case"cut":case"paste":z=zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Vl}var H=(t&4)!==0,Ne=!H&&e==="scroll",b=H?O!==null?O+"Capture":null:O;H=[];for(var k=E,j;k!==null;){j=k;var $=j.stateNode;if(j.tag===5&&$!==null&&(j=$,b!==null&&($=xn(k,b),$!=null&&H.push(Mn(k,$,j)))),Ne)break;k=k.return}0<H.length&&(O=new z(O,V,null,r,A),L.push({event:O,listeners:H}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",O&&r!==Fi&&(V=r.relatedTarget||r.fromElement)&&(pr(V)||V[Pt]))break e;if((z||O)&&(O=A.window===A?A:(O=A.ownerDocument)?O.defaultView||O.parentWindow:window,z?(V=r.relatedTarget||r.toElement,z=E,V=V?pr(V):null,V!==null&&(Ne=fr(V),V!==Ne||V.tag!==5&&V.tag!==6)&&(V=null)):(z=null,V=E),z!==V)){if(H=Bl,$="onMouseLeave",b="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(H=Vl,$="onPointerLeave",b="onPointerEnter",k="pointer"),Ne=z==null?O:Fr(z),j=V==null?O:Fr(V),O=new H($,k+"leave",z,r,A),O.target=Ne,O.relatedTarget=j,$=null,pr(A)===E&&(H=new H(b,k+"enter",V,r,A),H.target=j,H.relatedTarget=Ne,$=H),Ne=$,z&&V)t:{for(H=z,b=V,k=0,j=H;j;j=Mr(j))k++;for(j=0,$=b;$;$=Mr($))j++;for(;0<k-j;)H=Mr(H),k--;for(;0<j-k;)b=Mr(b),j--;for(;k--;){if(H===b||b!==null&&H===b.alternate)break t;H=Mr(H),b=Mr(b)}H=null}else H=null;z!==null&&yu(L,O,z,H,!1),V!==null&&Ne!==null&&yu(L,Ne,V,H,!0)}}e:{if(O=E?Fr(E):window,z=O.nodeName&&O.nodeName.toLowerCase(),z==="select"||z==="input"&&O.type==="file")var K=lf;else if(Gl(O))if(Yl)K=hf;else{K=cf;var Q=uf}else(z=O.nodeName)&&z.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(K=df);if(K&&(K=K(e,E))){Xl(L,K,r,A);break e}Q&&Q(e,O,E),e==="focusout"&&(Q=O._wrapperState)&&Q.controlled&&O.type==="number"&&$i(O,"number",O.value)}switch(Q=E?Fr(E):window,e){case"focusin":(Gl(Q)||Q.contentEditable==="true")&&(Ur=Q,da=E,$n=null);break;case"focusout":$n=da=Ur=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,au(L,r,A);break;case"selectionchange":if(gf)break;case"keydown":case"keyup":au(L,r,A)}var J;if(oa)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else $r?Ql(e,r)&&(X="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(Wl&&r.locale!=="ko"&&($r||X!=="onCompositionStart"?X==="onCompositionEnd"&&$r&&(J=zl()):(Ht=A,ta="value"in Ht?Ht.value:Ht.textContent,$r=!0)),Q=$s(E,X),0<Q.length&&(X=new ql(X,e,null,r,A),L.push({event:X,listeners:Q}),J?X.data=J:(J=Jl(r),J!==null&&(X.data=J)))),(J=rf?nf(e,r):sf(e,r))&&(E=$s(E,"onBeforeInput"),0<E.length&&(A=new ql("onBeforeInput","beforeinput",null,r,A),L.push({event:A,listeners:E}),A.data=J))}gu(L,t)})}function Mn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $s(e,t){for(var r=t+"Capture",i=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=xn(e,r),c!=null&&i.unshift(Mn(e,c,o)),c=xn(e,t),c!=null&&i.push(Mn(e,c,o))),e=e.return}return i}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yu(e,t,r,i,o){for(var c=t._reactName,p=[];r!==null&&r!==i;){var y=r,x=y.alternate,E=y.stateNode;if(x!==null&&x===i)break;y.tag===5&&E!==null&&(y=E,o?(x=xn(r,c),x!=null&&p.unshift(Mn(r,x,y))):o||(x=xn(r,c),x!=null&&p.push(Mn(r,x,y)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var wf=/\r\n?/g,xf=/\u0000|\uFFFD/g;function vu(e){return(typeof e=="string"?e:""+e).replace(wf,`
`).replace(xf,"")}function Us(e,t,r){if(t=vu(t),vu(e)!==t&&r)throw Error(s(425))}function Ds(){}var va=null,wa=null;function xa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,kf=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,_f=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(Sf)}:ka;function Sf(e){setTimeout(function(){throw e})}function _a(e,t){var r=t,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){e.removeChild(o),Tn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);Tn(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),bt="__reactFiber$"+zr,zn="__reactProps$"+zr,Pt="__reactContainer$"+zr,Sa="__reactEvents$"+zr,bf="__reactListeners$"+zr,jf="__reactHandles$"+zr;function pr(e){var t=e[bt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pt]||r[bt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xu(e);e!==null;){if(r=e[bt])return r;e=xu(e)}return t}e=r,r=e.parentNode}return null}function Fn(e){return e=e[bt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ms(e){return e[zn]||null}var ba=[],Br=-1;function Jt(e){return{current:e}}function ve(e){0>Br||(e.current=ba[Br],ba[Br]=null,Br--)}function ge(e,t){Br++,ba[Br]=e.current,e.current=t}var Gt={},De=Jt(Gt),He=Jt(!1),gr=Gt;function qr(e,t){var r=e.type.contextTypes;if(!r)return Gt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in r)o[c]=t[c];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function zs(){ve(He),ve(De)}function ku(e,t,r){if(De.current!==Gt)throw Error(s(168));ge(De,t),ge(He,r)}function _u(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(s(108,pe(e)||"Unknown",o));return q({},r,i)}function Fs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,gr=De.current,ge(De,e),ge(He,He.current),!0}function Su(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=_u(e,t,gr),i.__reactInternalMemoizedMergedChildContext=e,ve(He),ve(De),ge(De,e)):ve(He),ge(He,r)}var Ot=null,Bs=!1,ja=!1;function bu(e){Ot===null?Ot=[e]:Ot.push(e)}function Nf(e){Bs=!0,bu(e)}function Xt(){if(!ja&&Ot!==null){ja=!0;var e=0,t=fe;try{var r=Ot;for(fe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Ot=null,Bs=!1}catch(o){throw Ot!==null&&(Ot=Ot.slice(e+1)),Nl(Ki,Xt),o}finally{fe=t,ja=!1}}return null}var Vr=[],Wr=0,qs=null,Vs=0,it=[],at=0,mr=null,It=1,Rt="";function yr(e,t){Vr[Wr++]=Vs,Vr[Wr++]=qs,qs=e,Vs=t}function ju(e,t,r){it[at++]=It,it[at++]=Rt,it[at++]=mr,mr=e;var i=It;e=Rt;var o=32-ht(i)-1;i&=~(1<<o),r+=1;var c=32-ht(t)+o;if(30<c){var p=o-o%5;c=(i&(1<<p)-1).toString(32),i>>=p,o-=p,It=1<<32-ht(t)+o|r<<o|i,Rt=c+e}else It=1<<c|r<<o|i,Rt=e}function Na(e){e.return!==null&&(yr(e,1),ju(e,1,0))}function Ea(e){for(;e===qs;)qs=Vr[--Wr],Vr[Wr]=null,Vs=Vr[--Wr],Vr[Wr]=null;for(;e===mr;)mr=it[--at],it[at]=null,Rt=it[--at],it[at]=null,It=it[--at],it[at]=null}var tt=null,rt=null,xe=!1,pt=null;function Nu(e,t){var r=ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Eu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,rt=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mr!==null?{id:It,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tt=e,rt=null,!0):!1;default:return!1}}function Ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ta(e){if(xe){var t=rt;if(t){var r=t;if(!Eu(e,t)){if(Ca(e))throw Error(s(418));t=Qt(r.nextSibling);var i=tt;t&&Eu(e,t)?Nu(i,r):(e.flags=e.flags&-4097|2,xe=!1,tt=e)}}else{if(Ca(e))throw Error(s(418));e.flags=e.flags&-4097|2,xe=!1,tt=e}}}function Cu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Ws(e){if(e!==tt)return!1;if(!xe)return Cu(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xa(e.type,e.memoizedProps)),t&&(t=rt)){if(Ca(e))throw Tu(),Error(s(418));for(;t;)Nu(e,t),t=Qt(t.nextSibling)}if(Cu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rt=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=tt?Qt(e.stateNode.nextSibling):null;return!0}function Tu(){for(var e=rt;e;)e=Qt(e.nextSibling)}function Hr(){rt=tt=null,xe=!1}function Pa(e){pt===null?pt=[e]:pt.push(e)}var Ef=W.ReactCurrentBatchConfig;function Bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var o=i,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(p){var y=o.refs;p===null?delete y[c]:y[c]=p},t._stringRef=c,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pu(e){var t=e._init;return t(e._payload)}function Ou(e){function t(b,k){if(e){var j=b.deletions;j===null?(b.deletions=[k],b.flags|=16):j.push(k)}}function r(b,k){if(!e)return null;for(;k!==null;)t(b,k),k=k.sibling;return null}function i(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function o(b,k){return b=ir(b,k),b.index=0,b.sibling=null,b}function c(b,k,j){return b.index=j,e?(j=b.alternate,j!==null?(j=j.index,j<k?(b.flags|=2,k):j):(b.flags|=2,k)):(b.flags|=1048576,k)}function p(b){return e&&b.alternate===null&&(b.flags|=2),b}function y(b,k,j,$){return k===null||k.tag!==6?(k=_o(j,b.mode,$),k.return=b,k):(k=o(k,j),k.return=b,k)}function x(b,k,j,$){var K=j.type;return K===ae?A(b,k,j.props.children,$,j.key):k!==null&&(k.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===We&&Pu(K)===k.type)?($=o(k,j.props),$.ref=Bn(b,k,j),$.return=b,$):($=mi(j.type,j.key,j.props,null,b.mode,$),$.ref=Bn(b,k,j),$.return=b,$)}function E(b,k,j,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=So(j,b.mode,$),k.return=b,k):(k=o(k,j.children||[]),k.return=b,k)}function A(b,k,j,$,K){return k===null||k.tag!==7?(k=jr(j,b.mode,$,K),k.return=b,k):(k=o(k,j),k.return=b,k)}function L(b,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return k=_o(""+k,b.mode,j),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ne:return j=mi(k.type,k.key,k.props,null,b.mode,j),j.ref=Bn(b,null,k),j.return=b,j;case ee:return k=So(k,b.mode,j),k.return=b,k;case We:var $=k._init;return L(b,$(k._payload),j)}if(yn(k)||G(k))return k=jr(k,b.mode,j,null),k.return=b,k;Hs(b,k)}return null}function O(b,k,j,$){var K=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return K!==null?null:y(b,k,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ne:return j.key===K?x(b,k,j,$):null;case ee:return j.key===K?E(b,k,j,$):null;case We:return K=j._init,O(b,k,K(j._payload),$)}if(yn(j)||G(j))return K!==null?null:A(b,k,j,$,null);Hs(b,j)}return null}function z(b,k,j,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return b=b.get(j)||null,y(k,b,""+$,K);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ne:return b=b.get($.key===null?j:$.key)||null,x(k,b,$,K);case ee:return b=b.get($.key===null?j:$.key)||null,E(k,b,$,K);case We:var Q=$._init;return z(b,k,j,Q($._payload),K)}if(yn($)||G($))return b=b.get(j)||null,A(k,b,$,K,null);Hs(k,$)}return null}function V(b,k,j,$){for(var K=null,Q=null,J=k,X=k=0,Ae=null;J!==null&&X<j.length;X++){J.index>X?(Ae=J,J=null):Ae=J.sibling;var ce=O(b,J,j[X],$);if(ce===null){J===null&&(J=Ae);break}e&&J&&ce.alternate===null&&t(b,J),k=c(ce,k,X),Q===null?K=ce:Q.sibling=ce,Q=ce,J=Ae}if(X===j.length)return r(b,J),xe&&yr(b,X),K;if(J===null){for(;X<j.length;X++)J=L(b,j[X],$),J!==null&&(k=c(J,k,X),Q===null?K=J:Q.sibling=J,Q=J);return xe&&yr(b,X),K}for(J=i(b,J);X<j.length;X++)Ae=z(J,b,X,j[X],$),Ae!==null&&(e&&Ae.alternate!==null&&J.delete(Ae.key===null?X:Ae.key),k=c(Ae,k,X),Q===null?K=Ae:Q.sibling=Ae,Q=Ae);return e&&J.forEach(function(ar){return t(b,ar)}),xe&&yr(b,X),K}function H(b,k,j,$){var K=G(j);if(typeof K!="function")throw Error(s(150));if(j=K.call(j),j==null)throw Error(s(151));for(var Q=K=null,J=k,X=k=0,Ae=null,ce=j.next();J!==null&&!ce.done;X++,ce=j.next()){J.index>X?(Ae=J,J=null):Ae=J.sibling;var ar=O(b,J,ce.value,$);if(ar===null){J===null&&(J=Ae);break}e&&J&&ar.alternate===null&&t(b,J),k=c(ar,k,X),Q===null?K=ar:Q.sibling=ar,Q=ar,J=Ae}if(ce.done)return r(b,J),xe&&yr(b,X),K;if(J===null){for(;!ce.done;X++,ce=j.next())ce=L(b,ce.value,$),ce!==null&&(k=c(ce,k,X),Q===null?K=ce:Q.sibling=ce,Q=ce);return xe&&yr(b,X),K}for(J=i(b,J);!ce.done;X++,ce=j.next())ce=z(J,b,X,ce.value,$),ce!==null&&(e&&ce.alternate!==null&&J.delete(ce.key===null?X:ce.key),k=c(ce,k,X),Q===null?K=ce:Q.sibling=ce,Q=ce);return e&&J.forEach(function(ap){return t(b,ap)}),xe&&yr(b,X),K}function Ne(b,k,j,$){if(typeof j=="object"&&j!==null&&j.type===ae&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ne:e:{for(var K=j.key,Q=k;Q!==null;){if(Q.key===K){if(K=j.type,K===ae){if(Q.tag===7){r(b,Q.sibling),k=o(Q,j.props.children),k.return=b,b=k;break e}}else if(Q.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===We&&Pu(K)===Q.type){r(b,Q.sibling),k=o(Q,j.props),k.ref=Bn(b,Q,j),k.return=b,b=k;break e}r(b,Q);break}else t(b,Q);Q=Q.sibling}j.type===ae?(k=jr(j.props.children,b.mode,$,j.key),k.return=b,b=k):($=mi(j.type,j.key,j.props,null,b.mode,$),$.ref=Bn(b,k,j),$.return=b,b=$)}return p(b);case ee:e:{for(Q=j.key;k!==null;){if(k.key===Q)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){r(b,k.sibling),k=o(k,j.children||[]),k.return=b,b=k;break e}else{r(b,k);break}else t(b,k);k=k.sibling}k=So(j,b.mode,$),k.return=b,b=k}return p(b);case We:return Q=j._init,Ne(b,k,Q(j._payload),$)}if(yn(j))return V(b,k,j,$);if(G(j))return H(b,k,j,$);Hs(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,k!==null&&k.tag===6?(r(b,k.sibling),k=o(k,j),k.return=b,b=k):(r(b,k),k=_o(j,b.mode,$),k.return=b,b=k),p(b)):r(b,k)}return Ne}var Kr=Ou(!0),Iu=Ou(!1),Ks=Jt(null),Qs=null,Qr=null,Oa=null;function Ia(){Oa=Qr=Qs=null}function Ra(e){var t=Ks.current;ve(Ks),e._currentValue=t}function Aa(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Jr(e,t){Qs=e,Oa=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Qe=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(Oa!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Qs===null)throw Error(s(308));Qr=e,Qs.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var vr=null;function La(e){vr===null?vr=[e]:vr.push(e)}function Ru(e,t,r,i){var o=t.interleaved;return o===null?(r.next=r,La(t)):(r.next=o.next,o.next=r),t.interleaved=r,At(e,i)}function At(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yt=!1;function $a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(oe&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,At(e,r)}return o=i.interleaved,o===null?(t.next=t,La(i)):(t.next=o.next,o.next=t),i.interleaved=t,At(e,r)}function Js(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Gi(e,r)}}function Lu(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?o=c=p:c=c.next=p,r=r.next}while(r!==null);c===null?o=c=t:c=c.next=t}else o=c=t;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gs(e,t,r,i){var o=e.updateQueue;Yt=!1;var c=o.firstBaseUpdate,p=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var x=y,E=x.next;x.next=null,p===null?c=E:p.next=E,p=x;var A=e.alternate;A!==null&&(A=A.updateQueue,y=A.lastBaseUpdate,y!==p&&(y===null?A.firstBaseUpdate=E:y.next=E,A.lastBaseUpdate=x))}if(c!==null){var L=o.baseState;p=0,A=E=x=null,y=c;do{var O=y.lane,z=y.eventTime;if((i&O)===O){A!==null&&(A=A.next={eventTime:z,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var V=e,H=y;switch(O=t,z=r,H.tag){case 1:if(V=H.payload,typeof V=="function"){L=V.call(z,L,O);break e}L=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=H.payload,O=typeof V=="function"?V.call(z,L,O):V,O==null)break e;L=q({},L,O);break e;case 2:Yt=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,O=o.effects,O===null?o.effects=[y]:O.push(y))}else z={eventTime:z,lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},A===null?(E=A=z,x=L):A=A.next=z,p|=O;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;O=y,y=O.next,O.next=null,o.lastBaseUpdate=O,o.shared.pending=null}}while(!0);if(A===null&&(x=L),o.baseState=x,o.firstBaseUpdate=E,o.lastBaseUpdate=A,t=o.shared.interleaved,t!==null){o=t;do p|=o.lane,o=o.next;while(o!==t)}else c===null&&(o.shared.lanes=0);kr|=p,e.lanes=p,e.memoizedState=L}}function $u(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(s(191,o));o.call(i)}}}var qn={},jt=Jt(qn),Vn=Jt(qn),Wn=Jt(qn);function wr(e){if(e===qn)throw Error(s(174));return e}function Ua(e,t){switch(ge(Wn,t),ge(Vn,e),ge(jt,qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Di(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Di(t,e)}ve(jt),ge(jt,t)}function Gr(){ve(jt),ve(Vn),ve(Wn)}function Uu(e){wr(Wn.current);var t=wr(jt.current),r=Di(t,e.type);t!==r&&(ge(Vn,e),ge(jt,r))}function Da(e){Vn.current===e&&(ve(jt),ve(Vn))}var ke=Jt(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ma=[];function za(){for(var e=0;e<Ma.length;e++)Ma[e]._workInProgressVersionPrimary=null;Ma.length=0}var Ys=W.ReactCurrentDispatcher,Fa=W.ReactCurrentBatchConfig,xr=0,_e=null,Ce=null,Ie=null,Zs=!1,Hn=!1,Kn=0,Cf=0;function Me(){throw Error(s(321))}function Ba(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ft(e[r],t[r]))return!1;return!0}function qa(e,t,r,i,o,c){if(xr=c,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=e===null||e.memoizedState===null?If:Rf,e=r(i,o),Hn){c=0;do{if(Hn=!1,Kn=0,25<=c)throw Error(s(301));c+=1,Ie=Ce=null,t.updateQueue=null,Ys.current=Af,e=r(i,o)}while(Hn)}if(Ys.current=ri,t=Ce!==null&&Ce.next!==null,xr=0,Ie=Ce=_e=null,Zs=!1,t)throw Error(s(300));return e}function Va(){var e=Kn!==0;return Kn=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?_e.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function lt(){if(Ce===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ie===null?_e.memoizedState:Ie.next;if(t!==null)Ie=t,Ce=e;else{if(e===null)throw Error(s(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ie===null?_e.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Qn(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=lt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=Ce,o=i.baseQueue,c=r.pending;if(c!==null){if(o!==null){var p=o.next;o.next=c.next,c.next=p}i.baseQueue=o=c,r.pending=null}if(o!==null){c=o.next,i=i.baseState;var y=p=null,x=null,E=c;do{var A=E.lane;if((xr&A)===A)x!==null&&(x=x.next={lane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),i=E.hasEagerState?E.eagerState:e(i,E.action);else{var L={lane:A,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null};x===null?(y=x=L,p=i):x=x.next=L,_e.lanes|=A,kr|=A}E=E.next}while(E!==null&&E!==c);x===null?p=i:x.next=y,ft(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=x,r.lastRenderedState=i}if(e=r.interleaved,e!==null){o=e;do c=o.lane,_e.lanes|=c,kr|=c,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ha(e){var t=lt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,c=t.memoizedState;if(o!==null){r.pending=null;var p=o=o.next;do c=e(c,p.action),p=p.next;while(p!==o);ft(c,t.memoizedState)||(Qe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,i]}function Du(){}function Mu(e,t){var r=_e,i=lt(),o=t(),c=!ft(i.memoizedState,o);if(c&&(i.memoizedState=o,Qe=!0),i=i.queue,Ka(Bu.bind(null,r,i,e),[e]),i.getSnapshot!==t||c||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,Jn(9,Fu.bind(null,r,i,o,t),void 0,null),Re===null)throw Error(s(349));(xr&30)!==0||zu(r,t,o)}return o}function zu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Fu(e,t,r,i){t.value=r,t.getSnapshot=i,qu(t)&&Vu(e)}function Bu(e,t,r){return r(function(){qu(t)&&Vu(e)})}function qu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ft(e,r)}catch{return!0}}function Vu(e){var t=At(e,1);t!==null&&vt(t,e,1,-1)}function Wu(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t.queue=e,e=e.dispatch=Of.bind(null,_e,e),[t.memoizedState,e]}function Jn(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Hu(){return lt().memoizedState}function ei(e,t,r,i){var o=Nt();_e.flags|=e,o.memoizedState=Jn(1|t,r,void 0,i===void 0?null:i)}function ti(e,t,r,i){var o=lt();i=i===void 0?null:i;var c=void 0;if(Ce!==null){var p=Ce.memoizedState;if(c=p.destroy,i!==null&&Ba(i,p.deps)){o.memoizedState=Jn(t,r,c,i);return}}_e.flags|=e,o.memoizedState=Jn(1|t,r,c,i)}function Ku(e,t){return ei(8390656,8,e,t)}function Ka(e,t){return ti(2048,8,e,t)}function Qu(e,t){return ti(4,2,e,t)}function Ju(e,t){return ti(4,4,e,t)}function Gu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xu(e,t,r){return r=r!=null?r.concat([e]):null,ti(4,4,Gu.bind(null,t,e),r)}function Qa(){}function Yu(e,t){var r=lt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Ba(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Zu(e,t){var r=lt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Ba(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function ec(e,t,r){return(xr&21)===0?(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r):(ft(r,t)||(r=Pl(),_e.lanes|=r,kr|=r,e.baseState=!0),t)}function Tf(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var i=Fa.transition;Fa.transition={};try{e(!1),t()}finally{fe=r,Fa.transition=i}}function tc(){return lt().memoizedState}function Pf(e,t,r){var i=nr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},rc(e))nc(t,r);else if(r=Ru(e,t,r,i),r!==null){var o=qe();vt(r,e,i,o),sc(r,t,i)}}function Of(e,t,r){var i=nr(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(rc(e))nc(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,y=c(p,r);if(o.hasEagerState=!0,o.eagerState=y,ft(y,p)){var x=t.interleaved;x===null?(o.next=o,La(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}r=Ru(e,t,o,i),r!==null&&(o=qe(),vt(r,e,i,o),sc(r,t,i))}}function rc(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function nc(e,t){Hn=Zs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Gi(e,r)}}var ri={readContext:ot,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},If={readContext:ot,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Ku,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ei(4194308,4,Gu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var r=Nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Nt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Pf.bind(null,_e,e),[i.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Wu,useDebugValue:Qa,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Wu(!1),t=e[0];return e=Tf.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=_e,o=Nt();if(xe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Re===null)throw Error(s(349));(xr&30)!==0||zu(i,t,r)}o.memoizedState=r;var c={value:r,getSnapshot:t};return o.queue=c,Ku(Bu.bind(null,i,c,e),[e]),i.flags|=2048,Jn(9,Fu.bind(null,i,c,r,t),void 0,null),r},useId:function(){var e=Nt(),t=Re.identifierPrefix;if(xe){var r=Rt,i=It;r=(i&~(1<<32-ht(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rf={readContext:ot,useCallback:Yu,useContext:ot,useEffect:Ka,useImperativeHandle:Xu,useInsertionEffect:Qu,useLayoutEffect:Ju,useMemo:Zu,useReducer:Wa,useRef:Hu,useState:function(){return Wa(Qn)},useDebugValue:Qa,useDeferredValue:function(e){var t=lt();return ec(t,Ce.memoizedState,e)},useTransition:function(){var e=Wa(Qn)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:Mu,useId:tc,unstable_isNewReconciler:!1},Af={readContext:ot,useCallback:Yu,useContext:ot,useEffect:Ka,useImperativeHandle:Xu,useInsertionEffect:Qu,useLayoutEffect:Ju,useMemo:Zu,useReducer:Ha,useRef:Hu,useState:function(){return Ha(Qn)},useDebugValue:Qa,useDeferredValue:function(e){var t=lt();return Ce===null?t.memoizedState=e:ec(t,Ce.memoizedState,e)},useTransition:function(){var e=Ha(Qn)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:Mu,useId:tc,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ja(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ni={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=qe(),o=nr(e),c=Lt(i,o);c.payload=t,r!=null&&(c.callback=r),t=Zt(e,c,o),t!==null&&(vt(t,e,o,i),Js(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=qe(),o=nr(e),c=Lt(i,o);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Zt(e,c,o),t!==null&&(vt(t,e,o,i),Js(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qe(),i=nr(e),o=Lt(r,i);o.tag=2,t!=null&&(o.callback=t),t=Zt(e,o,i),t!==null&&(vt(t,e,i,r),Js(t,e,i))}};function ic(e,t,r,i,o,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,p):t.prototype&&t.prototype.isPureReactComponent?!Ln(r,i)||!Ln(o,c):!0}function ac(e,t,r){var i=!1,o=Gt,c=t.contextType;return typeof c=="object"&&c!==null?c=ot(c):(o=Ke(t)?gr:De.current,i=t.contextTypes,c=(i=i!=null)?qr(e,o):Gt),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),t}function oc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function Ga(e,t,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},$a(e);var c=t.contextType;typeof c=="object"&&c!==null?o.context=ot(c):(c=Ke(t)?gr:De.current,o.context=qr(e,c)),o.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Ja(e,t,c,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ni.enqueueReplaceState(o,o.state,null),Gs(e,r,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",i=t;do r+=le(i),i=i.return;while(i);var o=r}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:o,digest:null}}function Xa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ya(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Lf=typeof WeakMap=="function"?WeakMap:Map;function lc(e,t,r){r=Lt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ci||(ci=!0,po=i),Ya(e,t)},r}function uc(e,t,r){r=Lt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;r.payload=function(){return i(o)},r.callback=function(){Ya(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){Ya(e,t),typeof i!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function cc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Lf;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(r)||(o.add(r),e=Jf.bind(null,e,t,r),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hc(e,t,r,i,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Lt(-1,1),t.tag=2,Zt(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var $f=W.ReactCurrentOwner,Qe=!1;function Be(e,t,r,i){t.child=e===null?Iu(t,null,r,i):Kr(t,e.child,r,i)}function fc(e,t,r,i,o){r=r.render;var c=t.ref;return Jr(t,o),i=qa(e,t,r,i,c,o),r=Va(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$t(e,t,o)):(xe&&r&&Na(t),t.flags|=1,Be(e,t,i,o),t.child)}function pc(e,t,r,i,o){if(e===null){var c=r.type;return typeof c=="function"&&!ko(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,gc(e,t,c,i,o)):(e=mi(r.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&o)===0){var p=c.memoizedProps;if(r=r.compare,r=r!==null?r:Ln,r(p,i)&&e.ref===t.ref)return $t(e,t,o)}return t.flags|=1,e=ir(c,i),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,r,i,o){if(e!==null){var c=e.memoizedProps;if(Ln(c,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=c,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,$t(e,t,o)}return Za(e,t,r,i,o)}function mc(e,t,r){var i=t.pendingProps,o=i.children,c=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Zr,nt),nt|=r;else{if((r&1073741824)===0)return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(Zr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=c!==null?c.baseLanes:r,ge(Zr,nt),nt|=i}else c!==null?(i=c.baseLanes|r,t.memoizedState=null):i=r,ge(Zr,nt),nt|=i;return Be(e,t,o,r),t.child}function yc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Za(e,t,r,i,o){var c=Ke(r)?gr:De.current;return c=qr(t,c),Jr(t,o),r=qa(e,t,r,i,c,o),i=Va(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$t(e,t,o)):(xe&&i&&Na(t),t.flags|=1,Be(e,t,r,o),t.child)}function vc(e,t,r,i,o){if(Ke(r)){var c=!0;Fs(t)}else c=!1;if(Jr(t,o),t.stateNode===null)ii(e,t),ac(t,r,i),Ga(t,r,i,o),i=!0;else if(e===null){var p=t.stateNode,y=t.memoizedProps;p.props=y;var x=p.context,E=r.contextType;typeof E=="object"&&E!==null?E=ot(E):(E=Ke(r)?gr:De.current,E=qr(t,E));var A=r.getDerivedStateFromProps,L=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function";L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==i||x!==E)&&oc(t,p,i,E),Yt=!1;var O=t.memoizedState;p.state=O,Gs(t,i,p,o),x=t.memoizedState,y!==i||O!==x||He.current||Yt?(typeof A=="function"&&(Ja(t,r,A,i),x=t.memoizedState),(y=Yt||ic(t,r,y,i,O,x,E))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),p.props=i,p.state=x,p.context=E,i=y):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,Au(e,t),y=t.memoizedProps,E=t.type===t.elementType?y:gt(t.type,y),p.props=E,L=t.pendingProps,O=p.context,x=r.contextType,typeof x=="object"&&x!==null?x=ot(x):(x=Ke(r)?gr:De.current,x=qr(t,x));var z=r.getDerivedStateFromProps;(A=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==L||O!==x)&&oc(t,p,i,x),Yt=!1,O=t.memoizedState,p.state=O,Gs(t,i,p,o);var V=t.memoizedState;y!==L||O!==V||He.current||Yt?(typeof z=="function"&&(Ja(t,r,z,i),V=t.memoizedState),(E=Yt||ic(t,r,E,i,O,V,x)||!1)?(A||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,V,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,V,x)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=V),p.props=i,p.state=V,p.context=x,i=E):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return eo(e,t,r,i,c,o)}function eo(e,t,r,i,o,c){yc(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return o&&Su(t,r,!1),$t(e,t,c);i=t.stateNode,$f.current=t;var y=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Kr(t,e.child,null,c),t.child=Kr(t,null,y,c)):Be(e,t,y,c),t.memoizedState=i.state,o&&Su(t,r,!0),t.child}function wc(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),Ua(e,t.containerInfo)}function xc(e,t,r,i,o){return Hr(),Pa(o),t.flags|=256,Be(e,t,r,i),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function kc(e,t,r){var i=t.pendingProps,o=ke.current,c=!1,p=(t.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(o&2)!==0),y?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ge(ke,o&1),e===null)return Ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,c?(i=t.mode,c=t.child,p={mode:"hidden",children:p},(i&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=p):c=yi(p,i,0,null),e=jr(e,i,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=ro(r),t.memoizedState=to,e):no(t,p));if(o=e.memoizedState,o!==null&&(y=o.dehydrated,y!==null))return Uf(e,t,p,i,y,o,r);if(c){c=i.fallback,p=t.mode,o=e.child,y=o.sibling;var x={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=ir(o,x),i.subtreeFlags=o.subtreeFlags&14680064),y!==null?c=ir(y,c):(c=jr(c,p,r,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,p=e.child.memoizedState,p=p===null?ro(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},c.memoizedState=p,c.childLanes=e.childLanes&~r,t.memoizedState=to,i}return c=e.child,e=c.sibling,i=ir(c,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function no(e,t){return t=yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function si(e,t,r,i){return i!==null&&Pa(i),Kr(t,e.child,null,r),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uf(e,t,r,i,o,c,p){if(r)return t.flags&256?(t.flags&=-257,i=Xa(Error(s(422))),si(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=i.fallback,o=t.mode,i=yi({mode:"visible",children:i.children},o,0,null),c=jr(c,o,p,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,(t.mode&1)!==0&&Kr(t,e.child,null,p),t.child.memoizedState=ro(p),t.memoizedState=to,c);if((t.mode&1)===0)return si(e,t,p,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var y=i.dgst;return i=y,c=Error(s(419)),i=Xa(c,i,void 0),si(e,t,p,i)}if(y=(p&e.childLanes)!==0,Qe||y){if(i=Re,i!==null){switch(p&-p){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(i.suspendedLanes|p))!==0?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,At(e,o),vt(i,e,o,-1))}return xo(),i=Xa(Error(s(421))),si(e,t,p,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Gf.bind(null,e),o._reactRetry=t,null):(e=c.treeContext,rt=Qt(o.nextSibling),tt=t,xe=!0,pt=null,e!==null&&(it[at++]=It,it[at++]=Rt,it[at++]=mr,It=e.id,Rt=e.overflow,mr=t),t=no(t,i.children),t.flags|=4096,t)}function _c(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Aa(e.return,t,r)}function so(e,t,r,i,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=r,c.tailMode=o)}function Sc(e,t,r){var i=t.pendingProps,o=i.revealOrder,c=i.tail;if(Be(e,t,i.children,r),i=ke.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,r,t);else if(e.tag===19)_c(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ge(ke,i),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Xs(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),so(t,!1,o,r,c);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Xs(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}so(t,!0,r,null,c);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=ir(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ir(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Df(e,t,r){switch(t.tag){case 3:wc(t),Hr();break;case 5:Uu(t);break;case 1:Ke(t.type)&&Fs(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;ge(Ks,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?kc(e,t,r):(ge(ke,ke.current&1),e=$t(e,t,r),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Sc(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ge(ke,ke.current),i)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,r)}return $t(e,t,r)}var bc,io,jc,Nc;bc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},io=function(){},jc=function(e,t,r,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,wr(jt.current);var c=null;switch(r){case"input":o=Ai(e,o),i=Ai(e,i),c=[];break;case"select":o=q({},o,{value:void 0}),i=q({},i,{value:void 0}),c=[];break;case"textarea":o=Ui(e,o),i=Ui(e,i),c=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ds)}Mi(r,i);var p;r=null;for(E in o)if(!i.hasOwnProperty(E)&&o.hasOwnProperty(E)&&o[E]!=null)if(E==="style"){var y=o[E];for(p in y)y.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(l.hasOwnProperty(E)?c||(c=[]):(c=c||[]).push(E,null));for(E in i){var x=i[E];if(y=o!=null?o[E]:void 0,i.hasOwnProperty(E)&&x!==y&&(x!=null||y!=null))if(E==="style")if(y){for(p in y)!y.hasOwnProperty(p)||x&&x.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in x)x.hasOwnProperty(p)&&y[p]!==x[p]&&(r||(r={}),r[p]=x[p])}else r||(c||(c=[]),c.push(E,r)),r=x;else E==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,y=y?y.__html:void 0,x!=null&&y!==x&&(c=c||[]).push(E,x)):E==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(E,""+x):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(l.hasOwnProperty(E)?(x!=null&&E==="onScroll"&&ye("scroll",e),c||y===x||(c=[])):(c=c||[]).push(E,x))}r&&(c=c||[]).push("style",r);var E=c;(t.updateQueue=E)&&(t.flags|=4)}},Nc=function(e,t,r,i){r!==i&&(t.flags|=4)};function Gn(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Mf(e,t,r){var i=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ke(t.type)&&zs(),ze(t),null;case 3:return i=t.stateNode,Gr(),ve(He),ve(De),za(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pt!==null&&(yo(pt),pt=null))),io(e,t),ze(t),null;case 5:Da(t);var o=wr(Wn.current);if(r=t.type,e!==null&&t.stateNode!=null)jc(e,t,r,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return ze(t),null}if(e=wr(jt.current),Ws(t)){i=t.stateNode,r=t.type;var c=t.memoizedProps;switch(i[bt]=t,i[zn]=c,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(o=0;o<Un.length;o++)ye(Un[o],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":al(i,c),ye("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},ye("invalid",i);break;case"textarea":ul(i,c),ye("invalid",i)}Mi(r,c),o=null;for(var p in c)if(c.hasOwnProperty(p)){var y=c[p];p==="children"?typeof y=="string"?i.textContent!==y&&(c.suppressHydrationWarning!==!0&&Us(i.textContent,y,e),o=["children",y]):typeof y=="number"&&i.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&Us(i.textContent,y,e),o=["children",""+y]):l.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&ye("scroll",i)}switch(r){case"input":ps(i),ll(i,c,!0);break;case"textarea":ps(i),dl(i);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(i.onclick=Ds)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hl(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[bt]=t,e[zn]=i,bc(e,t,!1,!1),t.stateNode=e;e:{switch(p=zi(r,i),r){case"dialog":ye("cancel",e),ye("close",e),o=i;break;case"iframe":case"object":case"embed":ye("load",e),o=i;break;case"video":case"audio":for(o=0;o<Un.length;o++)ye(Un[o],e);o=i;break;case"source":ye("error",e),o=i;break;case"img":case"image":case"link":ye("error",e),ye("load",e),o=i;break;case"details":ye("toggle",e),o=i;break;case"input":al(e,i),o=Ai(e,i),ye("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=q({},i,{value:void 0}),ye("invalid",e);break;case"textarea":ul(e,i),o=Ui(e,i),ye("invalid",e);break;default:o=i}Mi(r,o),y=o;for(c in y)if(y.hasOwnProperty(c)){var x=y[c];c==="style"?gl(e,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&fl(e,x)):c==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&vn(e,x):typeof x=="number"&&vn(e,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(l.hasOwnProperty(c)?x!=null&&c==="onScroll"&&ye("scroll",e):x!=null&&D(e,c,x,p))}switch(r){case"input":ps(e),ll(e,i,!1);break;case"textarea":ps(e),dl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+he(i.value));break;case"select":e.multiple=!!i.multiple,c=i.value,c!=null?Or(e,!!i.multiple,c,!1):i.defaultValue!=null&&Or(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ds)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Nc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=wr(Wn.current),wr(jt.current),Ws(t)){if(i=t.stateNode,r=t.memoizedProps,i[bt]=t,(c=i.nodeValue!==r)&&(e=tt,e!==null))switch(e.tag){case 3:Us(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(i.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[bt]=t,t.stateNode=i}return ze(t),null;case 13:if(ve(ke),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&rt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Tu(),Hr(),t.flags|=98560,c=!1;else if(c=Ws(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[bt]=t}else Hr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),c=!1}else pt!==null&&(yo(pt),pt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ke.current&1)!==0?Te===0&&(Te=3):xo())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Gr(),io(e,t),e===null&&Dn(t.stateNode.containerInfo),ze(t),null;case 10:return Ra(t.type._context),ze(t),null;case 17:return Ke(t.type)&&zs(),ze(t),null;case 19:if(ve(ke),c=t.memoizedState,c===null)return ze(t),null;if(i=(t.flags&128)!==0,p=c.rendering,p===null)if(i)Gn(c,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Xs(e),p!==null){for(t.flags|=128,Gn(c,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)c=r,e=i,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,e=p.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}c.tail!==null&&je()>en&&(t.flags|=128,i=!0,Gn(c,!1),t.lanes=4194304)}else{if(!i)if(e=Xs(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gn(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!xe)return ze(t),null}else 2*je()-c.renderingStartTime>en&&r!==1073741824&&(t.flags|=128,i=!0,Gn(c,!1),t.lanes=4194304);c.isBackwards?(p.sibling=t.child,t.child=p):(r=c.last,r!==null?r.sibling=p:t.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=je(),t.sibling=null,r=ke.current,ge(ke,i?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return wo(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(nt&1073741824)!==0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function zf(e,t){switch(Ea(t),t.tag){case 1:return Ke(t.type)&&zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),ve(He),ve(De),za(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Da(t),null;case 13:if(ve(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(ke),null;case 4:return Gr(),null;case 10:return Ra(t.type._context),null;case 22:case 23:return wo(),null;case 24:return null;default:return null}}var ai=!1,Fe=!1,Ff=typeof WeakSet=="function"?WeakSet:Set,F=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){be(e,t,i)}else r.current=null}function ao(e,t,r){try{r()}catch(i){be(e,t,i)}}var Ec=!1;function Bf(e,t){if(va=Ns,e=iu(),ca(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var p=0,y=-1,x=-1,E=0,A=0,L=e,O=null;t:for(;;){for(var z;L!==r||o!==0&&L.nodeType!==3||(y=p+o),L!==c||i!==0&&L.nodeType!==3||(x=p+i),L.nodeType===3&&(p+=L.nodeValue.length),(z=L.firstChild)!==null;)O=L,L=z;for(;;){if(L===e)break t;if(O===r&&++E===o&&(y=p),O===c&&++A===i&&(x=p),(z=L.nextSibling)!==null)break;L=O,O=L.parentNode}L=z}r=y===-1||x===-1?null:{start:y,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(wa={focusedElem:e,selectionRange:r},Ns=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var V=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var H=V.memoizedProps,Ne=V.memoizedState,b=t.stateNode,k=b.getSnapshotBeforeUpdate(t.elementType===t.type?H:gt(t.type,H),Ne);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch($){be(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return V=Ec,Ec=!1,V}function Xn(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&ao(t,r,c)}o=o.next}while(o!==i)}}function oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function oo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cc(e){var t=e.alternate;t!==null&&(e.alternate=null,Cc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[zn],delete t[Sa],delete t[bf],delete t[jf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tc(e){return e.tag===5||e.tag===3||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ds));else if(i!==4&&(e=e.child,e!==null))for(lo(e,t,r),e=e.sibling;e!==null;)lo(e,t,r),e=e.sibling}function uo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(uo(e,t,r),e=e.sibling;e!==null;)uo(e,t,r),e=e.sibling}var $e=null,mt=!1;function er(e,t,r){for(r=r.child;r!==null;)Oc(e,t,r),r=r.sibling}function Oc(e,t,r){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(xs,r)}catch{}switch(r.tag){case 5:Fe||Yr(r,t);case 6:var i=$e,o=mt;$e=null,er(e,t,r),$e=i,mt=o,$e!==null&&(mt?(e=$e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$e.removeChild(r.stateNode));break;case 18:$e!==null&&(mt?(e=$e,r=r.stateNode,e.nodeType===8?_a(e.parentNode,r):e.nodeType===1&&_a(e,r),Tn(e)):_a($e,r.stateNode));break;case 4:i=$e,o=mt,$e=r.stateNode.containerInfo,mt=!0,er(e,t,r),$e=i,mt=o;break;case 0:case 11:case 14:case 15:if(!Fe&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var c=o,p=c.destroy;c=c.tag,p!==void 0&&((c&2)!==0||(c&4)!==0)&&ao(r,t,p),o=o.next}while(o!==i)}er(e,t,r);break;case 1:if(!Fe&&(Yr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(y){be(r,t,y)}er(e,t,r);break;case 21:er(e,t,r);break;case 22:r.mode&1?(Fe=(i=Fe)||r.memoizedState!==null,er(e,t,r),Fe=i):er(e,t,r);break;default:er(e,t,r)}}function Ic(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ff),t.forEach(function(i){var o=Xf.bind(null,e,i);r.has(i)||(r.add(i),i.then(o,o))})}}function yt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var c=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 5:$e=y.stateNode,mt=!1;break e;case 3:$e=y.stateNode.containerInfo,mt=!0;break e;case 4:$e=y.stateNode.containerInfo,mt=!0;break e}y=y.return}if($e===null)throw Error(s(160));Oc(c,p,o),$e=null,mt=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(E){be(o,t,E)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rc(t,e),t=t.sibling}function Rc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Et(e),i&4){try{Xn(3,e,e.return),oi(3,e)}catch(H){be(e,e.return,H)}try{Xn(5,e,e.return)}catch(H){be(e,e.return,H)}}break;case 1:yt(t,e),Et(e),i&512&&r!==null&&Yr(r,r.return);break;case 5:if(yt(t,e),Et(e),i&512&&r!==null&&Yr(r,r.return),e.flags&32){var o=e.stateNode;try{vn(o,"")}catch(H){be(e,e.return,H)}}if(i&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,p=r!==null?r.memoizedProps:c,y=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&ol(o,c),zi(y,p);var E=zi(y,c);for(p=0;p<x.length;p+=2){var A=x[p],L=x[p+1];A==="style"?gl(o,L):A==="dangerouslySetInnerHTML"?fl(o,L):A==="children"?vn(o,L):D(o,A,L,E)}switch(y){case"input":Li(o,c);break;case"textarea":cl(o,c);break;case"select":var O=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var z=c.value;z!=null?Or(o,!!c.multiple,z,!1):O!==!!c.multiple&&(c.defaultValue!=null?Or(o,!!c.multiple,c.defaultValue,!0):Or(o,!!c.multiple,c.multiple?[]:"",!1))}o[zn]=c}catch(H){be(e,e.return,H)}}break;case 6:if(yt(t,e),Et(e),i&4){if(e.stateNode===null)throw Error(s(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(H){be(e,e.return,H)}}break;case 3:if(yt(t,e),Et(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Tn(t.containerInfo)}catch(H){be(e,e.return,H)}break;case 4:yt(t,e),Et(e);break;case 13:yt(t,e),Et(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fo=je())),i&4&&Ic(e);break;case 22:if(A=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(E=Fe)||A,yt(t,e),Fe=E):yt(t,e),Et(e),i&8192){if(E=e.memoizedState!==null,(e.stateNode.isHidden=E)&&!A&&(e.mode&1)!==0)for(F=e,A=e.child;A!==null;){for(L=F=A;F!==null;){switch(O=F,z=O.child,O.tag){case 0:case 11:case 14:case 15:Xn(4,O,O.return);break;case 1:Yr(O,O.return);var V=O.stateNode;if(typeof V.componentWillUnmount=="function"){i=O,r=O.return;try{t=i,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(H){be(i,r,H)}}break;case 5:Yr(O,O.return);break;case 22:if(O.memoizedState!==null){$c(L);continue}}z!==null?(z.return=O,F=z):$c(L)}A=A.sibling}e:for(A=null,L=e;;){if(L.tag===5){if(A===null){A=L;try{o=L.stateNode,E?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=L.stateNode,x=L.memoizedProps.style,p=x!=null&&x.hasOwnProperty("display")?x.display:null,y.style.display=pl("display",p))}catch(H){be(e,e.return,H)}}}else if(L.tag===6){if(A===null)try{L.stateNode.nodeValue=E?"":L.memoizedProps}catch(H){be(e,e.return,H)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;A===L&&(A=null),L=L.return}A===L&&(A=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:yt(t,e),Et(e),i&4&&Ic(e);break;case 21:break;default:yt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tc(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(vn(o,""),i.flags&=-33);var c=Pc(e);uo(e,c,o);break;case 3:case 4:var p=i.stateNode.containerInfo,y=Pc(e);lo(e,y,p);break;default:throw Error(s(161))}}catch(x){be(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qf(e,t,r){F=e,Ac(e)}function Ac(e,t,r){for(var i=(e.mode&1)!==0;F!==null;){var o=F,c=o.child;if(o.tag===22&&i){var p=o.memoizedState!==null||ai;if(!p){var y=o.alternate,x=y!==null&&y.memoizedState!==null||Fe;y=ai;var E=Fe;if(ai=p,(Fe=x)&&!E)for(F=o;F!==null;)p=F,x=p.child,p.tag===22&&p.memoizedState!==null?Uc(o):x!==null?(x.return=p,F=x):Uc(o);for(;c!==null;)F=c,Ac(c),c=c.sibling;F=o,ai=y,Fe=E}Lc(e)}else(o.subtreeFlags&8772)!==0&&c!==null?(c.return=o,F=c):Lc(e)}}function Lc(e){for(;F!==null;){var t=F;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Fe||oi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Fe)if(r===null)i.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:gt(t.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&$u(t,c,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$u(t,p,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var E=t.alternate;if(E!==null){var A=E.memoizedState;if(A!==null){var L=A.dehydrated;L!==null&&Tn(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Fe||t.flags&512&&oo(t)}catch(O){be(t,t.return,O)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function $c(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function Uc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oi(4,t)}catch(x){be(t,r,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(x){be(t,o,x)}}var c=t.return;try{oo(t)}catch(x){be(t,c,x)}break;case 5:var p=t.return;try{oo(t)}catch(x){be(t,p,x)}}}catch(x){be(t,t.return,x)}if(t===e){F=null;break}var y=t.sibling;if(y!==null){y.return=t.return,F=y;break}F=t.return}}var Vf=Math.ceil,li=W.ReactCurrentDispatcher,co=W.ReactCurrentOwner,ut=W.ReactCurrentBatchConfig,oe=0,Re=null,Ee=null,Ue=0,nt=0,Zr=Jt(0),Te=0,Yn=null,kr=0,ui=0,ho=0,Zn=null,Je=null,fo=0,en=1/0,Ut=null,ci=!1,po=null,tr=null,di=!1,rr=null,hi=0,es=0,go=null,fi=-1,pi=0;function qe(){return(oe&6)!==0?je():fi!==-1?fi:fi=je()}function nr(e){return(e.mode&1)===0?1:(oe&2)!==0&&Ue!==0?Ue&-Ue:Ef.transition!==null?(pi===0&&(pi=Pl()),pi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Ml(e.type)),e)}function vt(e,t,r,i){if(50<es)throw es=0,go=null,Error(s(185));bn(e,r,i),((oe&2)===0||e!==Re)&&(e===Re&&((oe&2)===0&&(ui|=r),Te===4&&sr(e,Ue)),Ge(e,i),r===1&&oe===0&&(t.mode&1)===0&&(en=je()+500,Bs&&Xt()))}function Ge(e,t){var r=e.callbackNode;Nh(e,t);var i=Ss(e,e===Re?Ue:0);if(i===0)r!==null&&El(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&El(r),t===1)e.tag===0?Nf(Mc.bind(null,e)):bu(Mc.bind(null,e)),_f(function(){(oe&6)===0&&Xt()}),r=null;else{switch(Ol(i)){case 1:r=Ki;break;case 4:r=Cl;break;case 16:r=ws;break;case 536870912:r=Tl;break;default:r=ws}r=Kc(r,Dc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dc(e,t){if(fi=-1,pi=0,(oe&6)!==0)throw Error(s(327));var r=e.callbackNode;if(tn()&&e.callbackNode!==r)return null;var i=Ss(e,e===Re?Ue:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=gi(e,i);else{t=i;var o=oe;oe|=2;var c=Fc();(Re!==e||Ue!==t)&&(Ut=null,en=je()+500,Sr(e,t));do try{Kf();break}catch(y){zc(e,y)}while(!0);Ia(),li.current=c,oe=o,Ee!==null?t=0:(Re=null,Ue=0,t=Te)}if(t!==0){if(t===2&&(o=Qi(e),o!==0&&(i=o,t=mo(e,o))),t===1)throw r=Yn,Sr(e,0),sr(e,i),Ge(e,je()),r;if(t===6)sr(e,i);else{if(o=e.current.alternate,(i&30)===0&&!Wf(o)&&(t=gi(e,i),t===2&&(c=Qi(e),c!==0&&(i=c,t=mo(e,c))),t===1))throw r=Yn,Sr(e,0),sr(e,i),Ge(e,je()),r;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:br(e,Je,Ut);break;case 3:if(sr(e,i),(i&130023424)===i&&(t=fo+500-je(),10<t)){if(Ss(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){qe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ka(br.bind(null,e,Je,Ut),t);break}br(e,Je,Ut);break;case 4:if(sr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var p=31-ht(i);c=1<<p,p=t[p],p>o&&(o=p),i&=~c}if(i=o,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Vf(i/1960))-i,10<i){e.timeoutHandle=ka(br.bind(null,e,Je,Ut),i);break}br(e,Je,Ut);break;case 5:br(e,Je,Ut);break;default:throw Error(s(329))}}}return Ge(e,je()),e.callbackNode===r?Dc.bind(null,e):null}function mo(e,t){var r=Zn;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=gi(e,t),e!==2&&(t=Je,Je=r,t!==null&&yo(t)),e}function yo(e){Je===null?Je=e:Je.push.apply(Je,e)}function Wf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],c=o.getSnapshot;o=o.value;try{if(!ft(c(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sr(e,t){for(t&=~ho,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),i=1<<r;e[r]=-1,t&=~i}}function Mc(e){if((oe&6)!==0)throw Error(s(327));tn();var t=Ss(e,0);if((t&1)===0)return Ge(e,je()),null;var r=gi(e,t);if(e.tag!==0&&r===2){var i=Qi(e);i!==0&&(t=i,r=mo(e,i))}if(r===1)throw r=Yn,Sr(e,0),sr(e,t),Ge(e,je()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,Je,Ut),Ge(e,je()),null}function vo(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(en=je()+500,Bs&&Xt())}}function _r(e){rr!==null&&rr.tag===0&&(oe&6)===0&&tn();var t=oe;oe|=1;var r=ut.transition,i=fe;try{if(ut.transition=null,fe=1,e)return e()}finally{fe=i,ut.transition=r,oe=t,(oe&6)===0&&Xt()}}function wo(){nt=Zr.current,ve(Zr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kf(r)),Ee!==null)for(r=Ee.return;r!==null;){var i=r;switch(Ea(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zs();break;case 3:Gr(),ve(He),ve(De),za();break;case 5:Da(i);break;case 4:Gr();break;case 13:ve(ke);break;case 19:ve(ke);break;case 10:Ra(i.type._context);break;case 22:case 23:wo()}r=r.return}if(Re=e,Ee=e=ir(e.current,null),Ue=nt=t,Te=0,Yn=null,ho=ui=kr=0,Je=Zn=null,vr!==null){for(t=0;t<vr.length;t++)if(r=vr[t],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,c=r.pending;if(c!==null){var p=c.next;c.next=o,i.next=p}r.pending=i}vr=null}return e}function zc(e,t){do{var r=Ee;try{if(Ia(),Ys.current=ri,Zs){for(var i=_e.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Zs=!1}if(xr=0,Ie=Ce=_e=null,Hn=!1,Kn=0,co.current=null,r===null||r.return===null){Te=1,Yn=t,Ee=null;break}e:{var c=e,p=r.return,y=r,x=t;if(t=Ue,y.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var E=x,A=y,L=A.tag;if((A.mode&1)===0&&(L===0||L===11||L===15)){var O=A.alternate;O?(A.updateQueue=O.updateQueue,A.memoizedState=O.memoizedState,A.lanes=O.lanes):(A.updateQueue=null,A.memoizedState=null)}var z=dc(p);if(z!==null){z.flags&=-257,hc(z,p,y,c,t),z.mode&1&&cc(c,E,t),t=z,x=E;var V=t.updateQueue;if(V===null){var H=new Set;H.add(x),t.updateQueue=H}else V.add(x);break e}else{if((t&1)===0){cc(c,E,t),xo();break e}x=Error(s(426))}}else if(xe&&y.mode&1){var Ne=dc(p);if(Ne!==null){(Ne.flags&65536)===0&&(Ne.flags|=256),hc(Ne,p,y,c,t),Pa(Xr(x,y));break e}}c=x=Xr(x,y),Te!==4&&(Te=2),Zn===null?Zn=[c]:Zn.push(c),c=p;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var b=lc(c,x,t);Lu(c,b);break e;case 1:y=x;var k=c.type,j=c.stateNode;if((c.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(tr===null||!tr.has(j)))){c.flags|=65536,t&=-t,c.lanes|=t;var $=uc(c,y,t);Lu(c,$);break e}}c=c.return}while(c!==null)}qc(r)}catch(K){t=K,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function Fc(){var e=li.current;return li.current=ri,e===null?ri:e}function xo(){(Te===0||Te===3||Te===2)&&(Te=4),Re===null||(kr&268435455)===0&&(ui&268435455)===0||sr(Re,Ue)}function gi(e,t){var r=oe;oe|=2;var i=Fc();(Re!==e||Ue!==t)&&(Ut=null,Sr(e,t));do try{Hf();break}catch(o){zc(e,o)}while(!0);if(Ia(),oe=r,li.current=i,Ee!==null)throw Error(s(261));return Re=null,Ue=0,Te}function Hf(){for(;Ee!==null;)Bc(Ee)}function Kf(){for(;Ee!==null&&!yh();)Bc(Ee)}function Bc(e){var t=Hc(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?qc(e):Ee=t,co.current=null}function qc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Mf(r,t,nt),r!==null){Ee=r;return}}else{if(r=zf(r,t),r!==null){r.flags&=32767,Ee=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ee=null;return}}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Te===0&&(Te=5)}function br(e,t,r){var i=fe,o=ut.transition;try{ut.transition=null,fe=1,Qf(e,t,r,i)}finally{ut.transition=o,fe=i}return null}function Qf(e,t,r,i){do tn();while(rr!==null);if((oe&6)!==0)throw Error(s(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(Eh(e,c),e===Re&&(Ee=Re=null,Ue=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||di||(di=!0,Kc(ws,function(){return tn(),null})),c=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||c){c=ut.transition,ut.transition=null;var p=fe;fe=1;var y=oe;oe|=4,co.current=null,Bf(e,r),Rc(r,e),pf(wa),Ns=!!va,wa=va=null,e.current=r,qf(r),vh(),oe=y,fe=p,ut.transition=c}else e.current=r;if(di&&(di=!1,rr=e,hi=o),c=e.pendingLanes,c===0&&(tr=null),kh(r.stateNode),Ge(e,je()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(ci)throw ci=!1,e=po,po=null,e;return(hi&1)!==0&&e.tag!==0&&tn(),c=e.pendingLanes,(c&1)!==0?e===go?es++:(es=0,go=e):es=0,Xt(),null}function tn(){if(rr!==null){var e=Ol(hi),t=ut.transition,r=fe;try{if(ut.transition=null,fe=16>e?16:e,rr===null)var i=!1;else{if(e=rr,rr=null,hi=0,(oe&6)!==0)throw Error(s(331));var o=oe;for(oe|=4,F=e.current;F!==null;){var c=F,p=c.child;if((F.flags&16)!==0){var y=c.deletions;if(y!==null){for(var x=0;x<y.length;x++){var E=y[x];for(F=E;F!==null;){var A=F;switch(A.tag){case 0:case 11:case 15:Xn(8,A,c)}var L=A.child;if(L!==null)L.return=A,F=L;else for(;F!==null;){A=F;var O=A.sibling,z=A.return;if(Cc(A),A===E){F=null;break}if(O!==null){O.return=z,F=O;break}F=z}}}var V=c.alternate;if(V!==null){var H=V.child;if(H!==null){V.child=null;do{var Ne=H.sibling;H.sibling=null,H=Ne}while(H!==null)}}F=c}}if((c.subtreeFlags&2064)!==0&&p!==null)p.return=c,F=p;else e:for(;F!==null;){if(c=F,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Xn(9,c,c.return)}var b=c.sibling;if(b!==null){b.return=c.return,F=b;break e}F=c.return}}var k=e.current;for(F=k;F!==null;){p=F;var j=p.child;if((p.subtreeFlags&2064)!==0&&j!==null)j.return=p,F=j;else e:for(p=k;F!==null;){if(y=F,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:oi(9,y)}}catch(K){be(y,y.return,K)}if(y===p){F=null;break e}var $=y.sibling;if($!==null){$.return=y.return,F=$;break e}F=y.return}}if(oe=o,Xt(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(xs,e)}catch{}i=!0}return i}finally{fe=r,ut.transition=t}}return!1}function Vc(e,t,r){t=Xr(r,t),t=lc(e,t,1),e=Zt(e,t,1),t=qe(),e!==null&&(bn(e,1,t),Ge(e,t))}function be(e,t,r){if(e.tag===3)Vc(e,e,r);else for(;t!==null;){if(t.tag===3){Vc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tr===null||!tr.has(i))){e=Xr(r,e),e=uc(t,e,1),t=Zt(t,e,1),e=qe(),t!==null&&(bn(t,1,e),Ge(t,e));break}}t=t.return}}function Jf(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Ue&r)===r&&(Te===4||Te===3&&(Ue&130023424)===Ue&&500>je()-fo?Sr(e,0):ho|=r),Ge(e,t)}function Wc(e,t){t===0&&((e.mode&1)===0?t=1:(t=_s,_s<<=1,(_s&130023424)===0&&(_s=4194304)));var r=qe();e=At(e,t),e!==null&&(bn(e,t,r),Ge(e,r))}function Gf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wc(e,r)}function Xf(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Wc(e,r)}var Hc;Hc=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)Qe=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Qe=!1,Df(e,t,r);Qe=(e.flags&131072)!==0}else Qe=!1,xe&&(t.flags&1048576)!==0&&ju(t,Vs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ii(e,t),e=t.pendingProps;var o=qr(t,De.current);Jr(t,r),o=qa(null,t,i,e,o,r);var c=Va();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(i)?(c=!0,Fs(t)):c=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,$a(t),o.updater=ni,t.stateNode=o,o._reactInternals=t,Ga(t,i,e,r),t=eo(null,t,i,!0,c,r)):(t.tag=0,xe&&c&&Na(t),Be(null,t,o,r),t=t.child),t;case 16:i=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=Zf(i),e=gt(i,e),o){case 0:t=Za(null,t,i,e,r);break e;case 1:t=vc(null,t,i,e,r);break e;case 11:t=fc(null,t,i,e,r);break e;case 14:t=pc(null,t,i,gt(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:gt(i,o),Za(e,t,i,o,r);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:gt(i,o),vc(e,t,i,o,r);case 3:e:{if(wc(t),e===null)throw Error(s(387));i=t.pendingProps,c=t.memoizedState,o=c.element,Au(e,t),Gs(t,i,null,r);var p=t.memoizedState;if(i=p.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){o=Xr(Error(s(423)),t),t=xc(e,t,i,r,o);break e}else if(i!==o){o=Xr(Error(s(424)),t),t=xc(e,t,i,r,o);break e}else for(rt=Qt(t.stateNode.containerInfo.firstChild),tt=t,xe=!0,pt=null,r=Iu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),i===o){t=$t(e,t,r);break e}Be(e,t,i,r)}t=t.child}return t;case 5:return Uu(t),e===null&&Ta(t),i=t.type,o=t.pendingProps,c=e!==null?e.memoizedProps:null,p=o.children,xa(i,o)?p=null:c!==null&&xa(i,c)&&(t.flags|=32),yc(e,t),Be(e,t,p,r),t.child;case 6:return e===null&&Ta(t),null;case 13:return kc(e,t,r);case 4:return Ua(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Kr(t,null,i,r):Be(e,t,i,r),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:gt(i,o),fc(e,t,i,o,r);case 7:return Be(e,t,t.pendingProps,r),t.child;case 8:return Be(e,t,t.pendingProps.children,r),t.child;case 12:return Be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,c=t.memoizedProps,p=o.value,ge(Ks,i._currentValue),i._currentValue=p,c!==null)if(ft(c.value,p)){if(c.children===o.children&&!He.current){t=$t(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var y=c.dependencies;if(y!==null){p=c.child;for(var x=y.firstContext;x!==null;){if(x.context===i){if(c.tag===1){x=Lt(-1,r&-r),x.tag=2;var E=c.updateQueue;if(E!==null){E=E.shared;var A=E.pending;A===null?x.next=x:(x.next=A.next,A.next=x),E.pending=x}}c.lanes|=r,x=c.alternate,x!==null&&(x.lanes|=r),Aa(c.return,r,t),y.lanes|=r;break}x=x.next}}else if(c.tag===10)p=c.type===t.type?null:c.child;else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=r,y=p.alternate,y!==null&&(y.lanes|=r),Aa(p,r,t),p=c.sibling}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}Be(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Jr(t,r),o=ot(o),i=i(o),t.flags|=1,Be(e,t,i,r),t.child;case 14:return i=t.type,o=gt(i,t.pendingProps),o=gt(i.type,o),pc(e,t,i,o,r);case 15:return gc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:gt(i,o),ii(e,t),t.tag=1,Ke(i)?(e=!0,Fs(t)):e=!1,Jr(t,r),ac(t,i,o),Ga(t,i,o,r),eo(null,t,i,!0,e,r);case 19:return Sc(e,t,r);case 22:return mc(e,t,r)}throw Error(s(156,t.tag))};function Kc(e,t){return Nl(e,t)}function Yf(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,r,i){return new Yf(e,t,r,i)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zf(e){if(typeof e=="function")return ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kt)return 11;if(e===_t)return 14}return 2}function ir(e,t){var r=e.alternate;return r===null?(r=ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mi(e,t,r,i,o,c){var p=2;if(i=e,typeof e=="function")ko(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ae:return jr(r.children,o,c,t);case st:p=8,o|=8;break;case Ft:return e=ct(12,r,t,o|2),e.elementType=Ft,e.lanes=c,e;case Ye:return e=ct(13,r,t,o),e.elementType=Ye,e.lanes=c,e;case dt:return e=ct(19,r,t,o),e.elementType=dt,e.lanes=c,e;case Se:return yi(r,o,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:p=10;break e;case hr:p=9;break e;case kt:p=11;break e;case _t:p=14;break e;case We:p=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=ct(p,r,t,o),t.elementType=e,t.type=i,t.lanes=c,t}function jr(e,t,r,i){return e=ct(7,e,i,t),e.lanes=r,e}function yi(e,t,r,i){return e=ct(22,e,i,t),e.elementType=Se,e.lanes=r,e.stateNode={isHidden:!1},e}function _o(e,t,r){return e=ct(6,e,null,t),e.lanes=r,e}function So(e,t,r){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ep(e,t,r,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bo(e,t,r,i,o,c,p,y,x){return e=new ep(e,t,r,y,x),t===1?(t=1,c===!0&&(t|=8)):t=0,c=ct(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(c),e}function tp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Qc(e){if(!e)return Gt;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(Ke(r))return _u(e,r,t)}return t}function Jc(e,t,r,i,o,c,p,y,x){return e=bo(r,i,!0,e,o,c,p,y,x),e.context=Qc(null),r=e.current,i=qe(),o=nr(r),c=Lt(i,o),c.callback=t??null,Zt(r,c,o),e.current.lanes=o,bn(e,o,i),Ge(e,i),e}function vi(e,t,r,i){var o=t.current,c=qe(),p=nr(o);return r=Qc(r),t.context===null?t.context=r:t.pendingContext=r,t=Lt(c,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Zt(o,t,p),e!==null&&(vt(e,o,p,c),Js(e,o,p)),p}function wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jo(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function rp(){return null}var Xc=typeof reportError=="function"?reportError:function(e){console.error(e)};function No(e){this._internalRoot=e}xi.prototype.render=No.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));vi(e,t,null,null)},xi.prototype.unmount=No.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){vi(null,e,null,null)}),t[Pt]=null}};function xi(e){this._internalRoot=e}xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Al();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wt.length&&t!==0&&t<Wt[r].priority;r++);Wt.splice(r,0,e),r===0&&Ul(e)}};function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function np(e,t,r,i,o){if(o){if(typeof i=="function"){var c=i;i=function(){var E=wi(p);c.call(E)}}var p=Jc(t,i,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=p,e[Pt]=p.current,Dn(e.nodeType===8?e.parentNode:e),_r(),p}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var y=i;i=function(){var E=wi(x);y.call(E)}}var x=bo(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=x,e[Pt]=x.current,Dn(e.nodeType===8?e.parentNode:e),_r(function(){vi(t,x,r,i)}),x}function _i(e,t,r,i,o){var c=r._reactRootContainer;if(c){var p=c;if(typeof o=="function"){var y=o;o=function(){var x=wi(p);y.call(x)}}vi(t,p,e,o)}else p=np(r,t,e,o,i);return wi(p)}Il=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(Gi(t,r|1),Ge(t,je()),(oe&6)===0&&(en=je()+500,Xt()))}break;case 13:_r(function(){var i=At(e,1);if(i!==null){var o=qe();vt(i,e,1,o)}}),jo(e,1)}},Xi=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var r=qe();vt(t,e,134217728,r)}jo(e,134217728)}},Rl=function(e){if(e.tag===13){var t=nr(e),r=At(e,t);if(r!==null){var i=qe();vt(r,e,t,i)}jo(e,t)}},Al=function(){return fe},Ll=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}},qi=function(e,t,r){switch(t){case"input":if(Li(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var o=Ms(i);if(!o)throw Error(s(90));il(i),Li(i,o)}}}break;case"textarea":cl(e,r);break;case"select":t=r.value,t!=null&&Or(e,!!r.multiple,t,!1)}},wl=vo,xl=_r;var sp={usingClientEntryPoint:!1,Events:[Fn,Fr,Ms,yl,vl,vo]},ts={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ip={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bl(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||rp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Si.isDisabled&&Si.supportsFiber)try{xs=Si.inject(ip),St=Si}catch{}}return Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sp,Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eo(t))throw Error(s(200));return tp(e,t,null,r)},Xe.createRoot=function(e,t){if(!Eo(e))throw Error(s(299));var r=!1,i="",o=Xc;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bo(e,1,!1,null,null,r,!1,i,o),e[Pt]=t.current,Dn(e.nodeType===8?e.parentNode:e),new No(t)},Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=bl(t),e=e===null?null:e.stateNode,e},Xe.flushSync=function(e){return _r(e)},Xe.hydrate=function(e,t,r){if(!ki(t))throw Error(s(200));return _i(null,e,t,!0,r)},Xe.hydrateRoot=function(e,t,r){if(!Eo(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,o=!1,c="",p=Xc;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Jc(t,null,e,1,r??null,o,!1,c,p),e[Pt]=t.current,Dn(e),i)for(e=0;e<i.length;e++)r=i[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new xi(t)},Xe.render=function(e,t,r){if(!ki(t))throw Error(s(200));return _i(null,e,t,!1,r)},Xe.unmountComponentAtNode=function(e){if(!ki(e))throw Error(s(40));return e._reactRootContainer?(_r(function(){_i(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1},Xe.unstable_batchedUpdates=vo,Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!ki(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return _i(e,t,r,!1,i)},Xe.version="18.3.1-next-f1338f8080-20240426",Xe}var ad;function gp(){if(ad)return Po.exports;ad=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(n){console.error(n)}}return d(),Po.exports=pp(),Po.exports}var od;function mp(){if(od)return bi;od=1;var d=gp();return bi.createRoot=d.createRoot,bi.hydrateRoot=d.hydrateRoot,bi}var yp=mp();const Dd=Z.createContext(null),zt=()=>{const d=Z.useContext(Dd);if(!d)throw new Error("useAuth must be used within an AuthProvider");return d},vp=[{id:"1",username:"admin",email:"admin@company.com",role:"admin",firstName:"John",lastName:"Admin",createdAt:"2024-01-01",mfaEnabled:!0},{id:"2",username:"staff",email:"staff@company.com",role:"staff",firstName:"Jane",lastName:"Staff",createdAt:"2024-01-01",mfaEnabled:!1},{id:"3",username:"viewer",email:"viewer@company.com",role:"viewer",firstName:"Bob",lastName:"Viewer",createdAt:"2024-01-01",mfaEnabled:!1}],wp=({children:d})=>{const[n,s]=Z.useState(null),[a,l]=Z.useState(!0);Z.useEffect(()=>{const g=localStorage.getItem("currentUser");g&&s(JSON.parse(g)),l(!1)},[]);const u=async(g,m)=>{const v=vp.find(w=>w.username===g);if(v&&m==="password"){const w={...v,lastLogin:new Date().toISOString()};return s(w),localStorage.setItem("currentUser",JSON.stringify(w)),!0}return!1},f=()=>{s(null),localStorage.removeItem("currentUser")};return h.jsx(Dd.Provider,{value:{user:n,login:u,logout:f,isLoading:a},children:d})},xp="modulepreload",kp=function(d){return"/Stock-Management/"+d},ld={},ds=function(n,s,a){let l=Promise.resolve();if(s&&s.length>0){let f=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),m=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));l=f(s.map(v=>{if(v=kp(v),v in ld)return;ld[v]=!0;const w=v.endsWith(".css"),_=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${_}`))return;const T=document.createElement("link");if(T.rel=w?"stylesheet":xp,w||(T.as="script"),T.crossOrigin="",T.href=v,m&&T.setAttribute("nonce",m),document.head.appendChild(T),w)return new Promise((I,U)=>{T.addEventListener("load",I),T.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return l.then(f=>{for(const g of f||[])g.status==="rejected"&&u(g.reason);return n().catch(u)})},_p=d=>{let n;return d?n=d:typeof fetch>"u"?n=(...s)=>ds(async()=>{const{default:a}=await Promise.resolve().then(()=>mn);return{default:a}},void 0).then(({default:a})=>a(...s)):n=fetch,(...s)=>n(...s)};class Zo extends Error{constructor(n,s="FunctionsError",a){super(n),this.name=s,this.context=a}}class Sp extends Zo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ud extends Zo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class cd extends Zo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var zo;(function(d){d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2"})(zo||(zo={}));var bp=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};class jp{constructor(n,{headers:s={},customFetch:a,region:l=zo.Any}={}){this.url=n,this.headers=s,this.region=l,this.fetch=_p(a)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var a;return bp(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:f}=s;let g={},{region:m}=s;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(g["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let w;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(g["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(g["Content-Type"]="application/json",w=JSON.stringify(f)));const _=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w}).catch(C=>{throw new Sp(C)}),T=_.headers.get("x-relay-error");if(T&&T==="true")throw new ud(_);if(!_.ok)throw new cd(_);let I=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),U;return I==="application/json"?U=yield _.json():I==="application/octet-stream"?U=yield _.blob():I==="text/event-stream"?U=_:I==="multipart/form-data"?U=yield _.formData():U=yield _.text(),{data:U,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof cd||l instanceof ud?l.context:void 0}}})}}var Le={},rn={},nn={},sn={},an={},on={},Np=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=Np();const Ep=gn.fetch,Md=gn.fetch.bind(gn),zd=gn.Headers,Cp=gn.Request,Tp=gn.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:zd,Request:Cp,Response:Tp,default:Md,fetch:Ep},Symbol.toStringTag,{value:"Module"})),Pp=lp(mn);var ji={},dd;function Fd(){if(dd)return ji;dd=1,Object.defineProperty(ji,"__esModule",{value:!0});class d extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ji.default=d,ji}var hd;function Bd(){if(hd)return on;hd=1;var d=on&&on.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(on,"__esModule",{value:!0});const n=d(Pp),s=d(Fd());class a{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,f){return this.headers=Object.assign({},this.headers),this.headers[u]=f,this}then(u,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const g=this.fetch;let m=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var w,_,T;let I=null,U=null,C=null,P=v.status,N=v.statusText;if(v.ok){if(this.method!=="HEAD"){const ne=await v.text();ne===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?U=ne:U=JSON.parse(ne))}const D=(w=this.headers.Prefer)===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),W=(_=v.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");D&&W&&W.length>1&&(C=parseInt(W[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(U)&&(U.length>1?(I={code:"PGRST116",details:`Results contain ${U.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},U=null,C=null,P=406,N="Not Acceptable"):U.length===1?U=U[0]:U=null)}else{const D=await v.text();try{I=JSON.parse(D),Array.isArray(I)&&v.status===404&&(U=[],I=null,P=200,N="OK")}catch{v.status===404&&D===""?(P=204,N="No Content"):I={message:D}}if(I&&this.isMaybeSingle&&(!((T=I==null?void 0:I.details)===null||T===void 0)&&T.includes("0 rows"))&&(I=null,P=200,N="OK"),I&&this.shouldThrowOnError)throw new s.default(I)}return{error:I,data:U,count:C,status:P,statusText:N}});return this.shouldThrowOnError||(m=m.catch(v=>{var w,_,T;return{error:{message:`${(w=v==null?void 0:v.name)!==null&&w!==void 0?w:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(_=v==null?void 0:v.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(T=v==null?void 0:v.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,f)}returns(){return this}overrideTypes(){return this}}return on.default=a,on}var fd;function qd(){if(fd)return an;fd=1;var d=an&&an.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(an,"__esModule",{value:!0});const n=d(Bd());class s extends n.default{select(l){let u=!1;const f=(l??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:f,foreignTable:g,referencedTable:m=g}={}){const v=m?`${m}.order`:"order",w=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${w?`${w},`:""}${l}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:f=u}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${l}`),this}range(l,u,{foreignTable:f,referencedTable:g=f}={}){const m=typeof g>"u"?"offset":`${g}.offset`,v=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(v,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:f=!1,buffers:g=!1,wal:m=!1,format:v="text"}={}){var w;const _=[l?"analyze":null,u?"verbose":null,f?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),T=(w=this.headers.Accept)!==null&&w!==void 0?w:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${T}"; options=${_};`,v==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return an.default=s,an}var pd;function el(){if(pd)return sn;pd=1;var d=sn&&sn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sn,"__esModule",{value:!0});const n=d(qd());class s extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return sn.default=s,sn}var gd;function Vd(){if(gd)return nn;gd=1;var d=nn&&nn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nn,"__esModule",{value:!0});const n=d(el());class s{constructor(l,{headers:u={},schema:f,fetch:g}){this.url=l,this.headers=u,this.schema=f,this.fetch=g}select(l,{head:u=!1,count:f}={}){const g=u?"HEAD":"GET";let m=!1;const v=(l??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),f&&(this.headers.Prefer=`count=${f}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:f=!0}={}){const g="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const v=l.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:f=!1,count:g,defaultToNull:m=!0}={}){const v="POST",w=[`resolution=${f?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&w.push(this.headers.Prefer),g&&w.push(`count=${g}`),m||w.push("missing=default"),this.headers.Prefer=w.join(","),Array.isArray(l)){const _=l.reduce((T,I)=>T.concat(Object.keys(I)),[]);if(_.length>0){const T=[...new Set(_)].map(I=>`"${I}"`);this.url.searchParams.set("columns",T.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const f="PATCH",g=[];return this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),this.headers.Prefer=g.join(","),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",f=[];return l&&f.push(`count=${l}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return nn.default=s,nn}var ns={},ss={},md;function Op(){return md||(md=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.version=void 0,ss.version="0.0.0-automated"),ss}var yd;function Ip(){if(yd)return ns;yd=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.DEFAULT_HEADERS=void 0;const d=Op();return ns.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${d.version}`},ns}var vd;function Rp(){if(vd)return rn;vd=1;var d=rn&&rn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(rn,"__esModule",{value:!0});const n=d(Vd()),s=d(el()),a=Ip();class l{constructor(f,{headers:g={},schema:m,fetch:v}={}){this.url=f,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),g),this.schemaName=m,this.fetch=v}from(f){const g=new URL(`${this.url}/${f}`);return new n.default(g,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new l(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,g={},{head:m=!1,get:v=!1,count:w}={}){let _;const T=new URL(`${this.url}/rpc/${f}`);let I;m||v?(_=m?"HEAD":"GET",Object.entries(g).filter(([C,P])=>P!==void 0).map(([C,P])=>[C,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([C,P])=>{T.searchParams.append(C,P)})):(_="POST",I=g);const U=Object.assign({},this.headers);return w&&(U.Prefer=`count=${w}`),new s.default({method:_,url:T,headers:U,schema:this.schemaName,body:I,fetch:this.fetch,allowEmpty:!1})}}return rn.default=l,rn}var wd;function Ap(){if(wd)return Le;wd=1;var d=Le&&Le.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Le,"__esModule",{value:!0}),Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const n=d(Rp());Le.PostgrestClient=n.default;const s=d(Vd());Le.PostgrestQueryBuilder=s.default;const a=d(el());Le.PostgrestFilterBuilder=a.default;const l=d(qd());Le.PostgrestTransformBuilder=l.default;const u=d(Bd());Le.PostgrestBuilder=u.default;const f=d(Fd());return Le.PostgrestError=f.default,Le.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:f.default},Le}var Lp=Ap();const $p=op(Lp),{PostgrestClient:Up,PostgrestQueryBuilder:hm,PostgrestFilterBuilder:fm,PostgrestTransformBuilder:pm,PostgrestBuilder:gm,PostgrestError:mm}=$p;class Dp{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const a=this.getWebSocketConstructor();return new a(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Mp="2.15.1",zp=`realtime-js/${Mp}`,Fp="1.0.0",Fo=1e4,Bp=1e3,qp=100;var as;(function(d){d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed"})(as||(as={}));var Pe;(function(d){d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving"})(Pe||(Pe={}));var xt;(function(d){d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token"})(xt||(xt={}));var Bo;(function(d){d.websocket="websocket"})(Bo||(Bo={}));var Tr;(function(d){d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed"})(Tr||(Tr={}));class Vp{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),a=new TextDecoder;return this._decodeBroadcast(n,s,a)}_decodeBroadcast(n,s,a){const l=s.getUint8(1),u=s.getUint8(2);let f=this.HEADER_LENGTH+2;const g=a.decode(n.slice(f,f+l));f=f+l;const m=a.decode(n.slice(f,f+u));f=f+u;const v=JSON.parse(a.decode(n.slice(f,n.byteLength)));return{ref:null,topic:g,event:m,payload:v}}}class Wd{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(d){d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange"})(me||(me={}));const xd=(d,n,s={})=>{var a;const l=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(n).reduce((u,f)=>(u[f]=Wp(f,d,n,l),u),{})},Wp=(d,n,s,a)=>{const l=n.find(g=>g.name===d),u=l==null?void 0:l.type,f=s[d];return u&&!a.includes(u)?Hd(u,f):qo(f)},Hd=(d,n)=>{if(d.charAt(0)==="_"){const s=d.slice(1,d.length);return Jp(n,s)}switch(d){case me.bool:return Hp(n);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Kp(n);case me.json:case me.jsonb:return Qp(n);case me.timestamp:return Gp(n);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return qo(n);default:return qo(n)}},qo=d=>d,Hp=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},Kp=d=>{if(typeof d=="string"){const n=parseFloat(d);if(!Number.isNaN(n))return n}return d},Qp=d=>{if(typeof d=="string")try{return JSON.parse(d)}catch(n){return console.log(`JSON parse error: ${n}`),d}return d},Jp=(d,n)=>{if(typeof d!="string")return d;const s=d.length-1,a=d[s];if(d[0]==="{"&&a==="}"){let u;const f=d.slice(1,s);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(g=>Hd(n,g))}return d},Gp=d=>typeof d=="string"?d.replace(" ","T"):d,Kd=d=>{let n=d;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Ro{constructor(n,s,a={},l=Fo){this.channel=n,this.event=s,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var a;return this._hasReceived(n)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(a=>a.status===n).forEach(a=>a.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var kd;(function(d){d.SYNC="sync",d.JOIN="join",d.LEAVE="leave"})(kd||(kd={}));class os{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=os.syncState(this.state,l,u,f),this.pendingDiffs.forEach(m=>{this.state=os.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],g()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=os.syncDiff(this.state,l,u,f),g())}),this.onJoin((l,u,f)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:f})}),this.onLeave((l,u,f)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,a,l){const u=this.cloneDeep(n),f=this.transformState(s),g={},m={};return this.map(u,(v,w)=>{f[v]||(m[v]=w)}),this.map(f,(v,w)=>{const _=u[v];if(_){const T=w.map(P=>P.presence_ref),I=_.map(P=>P.presence_ref),U=w.filter(P=>I.indexOf(P.presence_ref)<0),C=_.filter(P=>T.indexOf(P.presence_ref)<0);U.length>0&&(g[v]=U),C.length>0&&(m[v]=C)}else g[v]=w}),this.syncDiff(u,{joins:g,leaves:m},a,l)}static syncDiff(n,s,a,l){const{joins:u,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(g,m)=>{var v;const w=(v=n[g])!==null&&v!==void 0?v:[];if(n[g]=this.cloneDeep(m),w.length>0){const _=n[g].map(I=>I.presence_ref),T=w.filter(I=>_.indexOf(I.presence_ref)<0);n[g].unshift(...T)}a(g,w,m)}),this.map(f,(g,m)=>{let v=n[g];if(!v)return;const w=m.map(_=>_.presence_ref);v=v.filter(_=>w.indexOf(_.presence_ref)<0),n[g]=v,l(g,v,m),v.length===0&&delete n[g]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(a=>s(a,n[a]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,a)=>{const l=n[a];return"metas"in l?s[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[a]=l,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _d;(function(d){d.ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE"})(_d||(_d={}));var ls;(function(d){d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system"})(ls||(ls={}));var Mt;(function(d){d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class tl{constructor(n,s={config:{}},a){this.topic=n,this.params=s,this.socket=a,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ro(this,xt.join,this.params,this.timeout),this.rejoinTimer=new Wd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new os(this),this.broadcastEndpointURL=Kd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:u,presence:f,private:g}}=this.params,m=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(T=>T.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[ls.PRESENCE]&&this.bindings[ls.PRESENCE].length>0,w={},_={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(T=>n==null?void 0:n(Mt.CHANNEL_ERROR,T)),this._onClose(()=>n==null?void 0:n(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var I;if(this.socket.setAuth(),T===void 0){n==null||n(Mt.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,C=(I=U==null?void 0:U.length)!==null&&I!==void 0?I:0,P=[];for(let N=0;N<C;N++){const B=U[N],{filter:{event:D,schema:W,table:ne,filter:ee}}=B,ae=T&&T[N];if(ae&&ae.event===D&&ae.schema===W&&ae.table===ne&&ae.filter===ee)P.push(Object.assign(Object.assign({},B),{id:ae.id}));else{this.unsubscribe(),this.state=Pe.errored,n==null||n(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,n&&n(Mt.SUBSCRIBED);return}}).receive("error",T=>{this.state=Pe.errored,n==null||n(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,a){return this.state===Pe.joined&&n===ls.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,a)}async send(n,s={}){var a,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:f}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,g,m;const v=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Ro(this,xt.leave,{},n),a.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(n,s,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),f}_push(n,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Ro(this,n,s,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>qp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,a){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,a){var l,u;const f=n.toLocaleLowerCase(),{close:g,error:m,leave:v,join:w}=xt;if(a&&[g,m,v,w].indexOf(f)>=0&&a!==this._joinRef())return;let T=this._onMessage(f,s,a);if(s&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(I=>{var U,C,P;return((U=I.filter)===null||U===void 0?void 0:U.event)==="*"||((P=(C=I.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===f}).map(I=>I.callback(T,a)):(u=this.bindings[f])===null||u===void 0||u.filter(I=>{var U,C,P,N,B,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in I){const W=I.id,ne=(U=I.filter)===null||U===void 0?void 0:U.event;return W&&((C=s.ids)===null||C===void 0?void 0:C.includes(W))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const W=(B=(N=I==null?void 0:I.filter)===null||N===void 0?void 0:N.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return W==="*"||W===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return I.type.toLocaleLowerCase()===f}).map(I=>{if(typeof T=="object"&&"ids"in T){const U=T.data,{schema:C,table:P,commit_timestamp:N,type:B,errors:D}=U;T=Object.assign(Object.assign({},{schema:C,table:P,commit_timestamp:N,eventType:B,new:{},old:{},errors:D}),this._getPayloadRecords(U))}I.callback(T,a)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,a){const l=n.toLocaleLowerCase(),u={type:l,filter:s,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,s){const a=n.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&tl.isEqual(l.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const a in n)if(n[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(xt.close,{},n)}_onError(n){this._on(xt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=xd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=xd(n.columns,n.old_record)),s}}const Sd=()=>{},Ni={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xp=[1e3,2e3,5e3,1e4],Yp=1e4,Zp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e0{constructor(n,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fo,this.transport=null,this.heartbeatIntervalMs=Ni.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sd,this.ref=0,this.reconnectTimer=null,this.logger=Sd,this.conn=null,this.sendBuffer=[],this.serializer=new Vp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...f)=>ds(async()=>{const{default:g}=await Promise.resolve().then(()=>mn);return{default:g}},void 0).then(({default:g})=>g(...f)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...f)=>u(...f)},!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Bo.websocket}`,this.httpEndpoint=Kd(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fp}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,a){this.logger(n,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case as.connecting:return Tr.Connecting;case as.open:return Tr.Open;case as.closing:return Tr.Closing;default:return Tr.Closed}}isConnected(){return this.connectionState()===Tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const a=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new tl(`realtime:${n}`,s,this);return this.channels.push(u),u}}push(n){const{topic:s,event:a,payload:l,ref:u}=n,f=()=>{this.encode(n,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${s} ${a} (${u})`,l),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Bp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ni.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(a=>a.topic===n&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:u,ref:f}=s,g=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${a} ${l} ${g}`.trim(),u),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(l,u,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(xt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const a=n.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${n}${a}${l}`}_workerObjectUrl(n){let s;if(n)s=n;else{const a=new Blob([Zp],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const l={access_token:s,version:zp};s&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(xt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(a=>{try{a(s)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(a){this.log("error",`error triggering ${n} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Wd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ni.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,a,l,u,f,g,m,v;if(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(a=n==null?void 0:n.timeout)!==null&&a!==void 0?a:Fo,this.heartbeatIntervalMs=(l=n==null?void 0:n.heartbeatIntervalMs)!==null&&l!==void 0?l:Ni.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(w=>Xp[w-1]||Yp),this.encode=(m=n==null?void 0:n.encode)!==null&&m!==void 0?m:((w,_)=>_(JSON.stringify(w))),this.decode=(v=n==null?void 0:n.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class rl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Oe(d){return typeof d=="object"&&d!==null&&"__isStorageError"in d}class t0 extends rl{constructor(n,s,a){super(n),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vo extends rl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var r0=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};const Qd=d=>{let n;return d?n=d:typeof fetch>"u"?n=(...s)=>ds(async()=>{const{default:a}=await Promise.resolve().then(()=>mn);return{default:a}},void 0).then(({default:a})=>a(...s)):n=fetch,(...s)=>n(...s)},n0=()=>r0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),Wo=d=>{if(Array.isArray(d))return d.map(s=>Wo(s));if(typeof d=="function"||d!==Object(d))return d;const n={};return Object.entries(d).forEach(([s,a])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Wo(a)}),n},s0=d=>{if(typeof d!="object"||d===null)return!1;const n=Object.getPrototypeOf(d);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)};var Pr=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};const Ao=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),i0=(d,n,s)=>Pr(void 0,void 0,void 0,function*(){const a=yield n0();d instanceof a&&!(s!=null&&s.noResolveJson)?d.json().then(l=>{const u=d.status||500,f=(l==null?void 0:l.statusCode)||u+"";n(new t0(Ao(l),u,f))}).catch(l=>{n(new Vo(Ao(l),l))}):n(new Vo(Ao(d),d))}),a0=(d,n,s,a)=>{const l={method:d,headers:(n==null?void 0:n.headers)||{}};return d==="GET"||!a?l:(s0(a)?(l.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),l.body=JSON.stringify(a)):l.body=a,n!=null&&n.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),s))};function hs(d,n,s,a,l,u){return Pr(this,void 0,void 0,function*(){return new Promise((f,g)=>{d(s,a0(n,a,l,u)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>i0(m,g,a))})})}function Oi(d,n,s,a){return Pr(this,void 0,void 0,function*(){return hs(d,"GET",n,s,a)})}function Ct(d,n,s,a,l){return Pr(this,void 0,void 0,function*(){return hs(d,"POST",n,a,l,s)})}function Ho(d,n,s,a,l){return Pr(this,void 0,void 0,function*(){return hs(d,"PUT",n,a,l,s)})}function o0(d,n,s,a){return Pr(this,void 0,void 0,function*(){return hs(d,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function Jd(d,n,s,a,l){return Pr(this,void 0,void 0,function*(){return hs(d,"DELETE",n,a,l,s)})}var Ve=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};const l0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u0{constructor(n,s={},a,l){this.url=n,this.headers=s,this.bucketId=a,this.fetch=Qd(l)}uploadOrUpdate(n,s,a,l){return Ve(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},bd),l);let g=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=a,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(g=Object.assign(Object.assign({},g),l.headers));const v=this._removeEmptyFolders(s),w=this._getFinalPath(v),_=yield(n=="PUT"?Ho:Ct)(this.fetch,`${this.url}/object/${w}`,u,Object.assign({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(Oe(u))return{data:null,error:u};throw u}})}upload(n,s,a){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,a)})}uploadToSignedUrl(n,s,a,l){return Ve(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",s);try{let m;const v=Object.assign({upsert:bd.upsert},l),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",v.cacheControl)):(m=a,w["cache-control"]=`max-age=${v.cacheControl}`,w["content-type"]=v.contentType);const _=yield Ho(this.fetch,g.toString(),m,{headers:w});return{data:{path:u,fullPath:_.Key},error:null}}catch(m){if(Oe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return Ve(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const u=yield Ct(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),f=new URL(this.url+u.url),g=f.searchParams.get("token");if(!g)throw new rl("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:g},error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}update(n,s,a){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,a)})}move(n,s,a){return Ve(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}copy(n,s,a){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}createSignedUrl(n,s,a){return Ve(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield Ct(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const f=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}createSignedUrls(n,s,a){return Ve(this,void 0,void 0,function*(){try{const l=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}download(n,s){return Ve(this,void 0,void 0,function*(){const l=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=u?`?${u}`:"";try{const g=this._getFinalPath(n);return{data:yield(yield Oi(this.fetch,`${this.url}/${l}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(Oe(g))return{data:null,error:g};throw g}})}info(n){return Ve(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const a=yield Oi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wo(a),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}exists(n){return Ve(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield o0(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Oe(a)&&a instanceof Vo){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(n,s){const a=this._getFinalPath(n),l=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&l.push(u);const g=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${a}${v}`)}}}remove(n){return Ve(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}list(n,s,a){return Ve(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},l0),s),{prefix:n||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}listV2(n,s){return Ve(this,void 0,void 0,function*(){try{const a=Object.assign({},n);return{data:yield Ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const c0="2.11.0",d0={"X-Client-Info":`storage-js/${c0}`};var ln=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};class h0{constructor(n,s={},a,l){const u=new URL(n);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},d0),s),this.fetch=Qd(a)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}getBucket(n){return ln(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}updateBucket(n,s){return ln(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}emptyBucket(n){return ln(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ln(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}}class f0 extends h0{constructor(n,s={},a,l){super(n,s,a,l)}from(n){return new u0(this.url,this.headers,n,this.fetch)}}const p0="2.55.0";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const g0={"X-Client-Info":`supabase-js-${is}/${p0}`},m0={headers:g0},y0={schema:"public"},v0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w0={};var x0=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};const k0=d=>{let n;return d?n=d:typeof fetch>"u"?n=Md:n=fetch,(...s)=>n(...s)},_0=()=>typeof Headers>"u"?zd:Headers,S0=(d,n,s)=>{const a=k0(s),l=_0();return(u,f)=>x0(void 0,void 0,void 0,function*(){var g;const m=(g=yield n())!==null&&g!==void 0?g:d;let v=new l(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",d),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),a(u,Object.assign(Object.assign({},f),{headers:v}))})};var b0=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};function j0(d){return d.endsWith("/")?d:d+"/"}function N0(d,n){var s,a;const{db:l,auth:u,realtime:f,global:g}=d,{db:m,auth:v,realtime:w,global:_}=n,T={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},w),f),storage:{},global:Object.assign(Object.assign(Object.assign({},_),g),{headers:Object.assign(Object.assign({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(a=g==null?void 0:g.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>b0(this,void 0,void 0,function*(){return""})};return d.accessToken?T.accessToken=d.accessToken:delete T.accessToken,T}const Gd="2.71.1",fn=30*1e3,Ko=3,Lo=Ko*fn,E0="http://localhost:9999",C0="supabase.auth.token",T0={"X-Client-Info":`gotrue-js/${Gd}`},Qo="X-Supabase-Api-Version",Xd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O0=600*1e3;class nl extends Error{constructor(n,s,a){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function Y(d){return typeof d=="object"&&d!==null&&"__isAuthError"in d}class I0 extends nl{constructor(n,s,a){super(n,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function R0(d){return Y(d)&&d.name==="AuthApiError"}class Yd extends nl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class dr extends nl{constructor(n,s,a,l){super(n,a,l),this.name=s,this.status=a}}class lr extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A0(d){return Y(d)&&d.name==="AuthSessionMissingError"}class Ei extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ci extends dr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ti extends dr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L0(d){return Y(d)&&d.name==="AuthImplicitGrantRedirectError"}class jd extends dr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jo extends dr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function $o(d){return Y(d)&&d.name==="AuthRetryableFetchError"}class Nd extends dr{constructor(n,s,a){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Go extends dr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ed=` 	
\r=`.split(""),$0=(()=>{const d=new Array(128);for(let n=0;n<d.length;n+=1)d[n]=-1;for(let n=0;n<Ed.length;n+=1)d[Ed[n].charCodeAt(0)]=-2;for(let n=0;n<Ii.length;n+=1)d[Ii[n].charCodeAt(0)]=n;return d})();function Cd(d,n,s){if(d!==null)for(n.queue=n.queue<<8|d,n.queuedBits+=8;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(Ii[a]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const a=n.queue>>n.queuedBits-6&63;s(Ii[a]),n.queuedBits-=6}}function Zd(d,n,s){const a=$0[d];if(a>-1)for(n.queue=n.queue<<6|a,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}}function Td(d){const n=[],s=f=>{n.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=f=>{M0(f,a,s)};for(let f=0;f<d.length;f+=1)Zd(d.charCodeAt(f),l,u);return n.join("")}function U0(d,n){if(d<=127){n(d);return}else if(d<=2047){n(192|d>>6),n(128|d&63);return}else if(d<=65535){n(224|d>>12),n(128|d>>6&63),n(128|d&63);return}else if(d<=1114111){n(240|d>>18),n(128|d>>12&63),n(128|d>>6&63),n(128|d&63);return}throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}function D0(d,n){for(let s=0;s<d.length;s+=1){let a=d.charCodeAt(s);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(d.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}U0(a,n)}}function M0(d,n,s){if(n.utf8seq===0){if(d<=127){s(d);return}for(let a=1;a<6;a+=1)if((d>>7-a&1)===0){n.utf8seq=a;break}if(n.utf8seq===2)n.codepoint=d&31;else if(n.utf8seq===3)n.codepoint=d&15;else if(n.utf8seq===4)n.codepoint=d&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|d&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function z0(d){const n=[],s={queue:0,queuedBits:0},a=l=>{n.push(l)};for(let l=0;l<d.length;l+=1)Zd(d.charCodeAt(l),s,a);return new Uint8Array(n)}function F0(d){const n=[];return D0(d,s=>n.push(s)),new Uint8Array(n)}function B0(d){const n=[],s={queue:0,queuedBits:0},a=l=>{n.push(l)};return d.forEach(l=>Cd(l,s,a)),Cd(null,s,a),n.join("")}function q0(d){return Math.round(Date.now()/1e3)+d}function V0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const n=Math.random()*16|0;return(d=="x"?n:n&3|8).toString(16)})}const wt=()=>typeof window<"u"&&typeof document<"u",Nr={tested:!1,writable:!1},eh=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nr.tested)return Nr.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),Nr.tested=!0,Nr.writable=!0}catch{Nr.tested=!0,Nr.writable=!1}return Nr.writable};function W0(d){const n={},s=new URL(d);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return s.searchParams.forEach((a,l)=>{n[l]=a}),n}const th=d=>{let n;return d?n=d:typeof fetch>"u"?n=(...s)=>ds(async()=>{const{default:a}=await Promise.resolve().then(()=>mn);return{default:a}},void 0).then(({default:a})=>a(...s)):n=fetch,(...s)=>n(...s)},H0=d=>typeof d=="object"&&d!==null&&"status"in d&&"ok"in d&&"json"in d&&typeof d.json=="function",pn=async(d,n,s)=>{await d.setItem(n,JSON.stringify(s))},Er=async(d,n)=>{const s=await d.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},or=async(d,n)=>{await d.removeItem(n)};class Ri{constructor(){this.promise=new Ri.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Ri.promiseConstructor=Promise;function Uo(d){const n=d.split(".");if(n.length!==3)throw new Go("Invalid JWT structure");for(let a=0;a<n.length;a++)if(!P0.test(n[a]))throw new Go("JWT not in base64url format");return{header:JSON.parse(Td(n[0])),payload:JSON.parse(Td(n[1])),signature:z0(n[2]),raw:{header:n[0],payload:n[1]}}}async function K0(d){return await new Promise(n=>{setTimeout(()=>n(null),d)})}function Q0(d,n){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await d(u);if(!n(u,null,f)){a(f);return}}catch(f){if(!n(u,f)){l(f);return}}})()})}function J0(d){return("0"+d.toString(16)).substr(-2)}function G0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(n),Array.from(n,J0).join("")}async function X0(d){const s=new TextEncoder().encode(d),a=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Y0(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const s=await X0(d);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(d,n,s=!1){const a=G0();let l=a;s&&(l+="/PASSWORD_RECOVERY"),await pn(d,`${n}-code-verifier`,l);const u=await Y0(a);return[u,a===u?"plain":"s256"]}const Z0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eg(d){const n=d.headers.get(Qo);if(!n||!n.match(Z0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function tg(d){if(!d)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(d<=n)throw new Error("JWT has expired")}function rg(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ng=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(d){if(!ng.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Do(){const d={};return new Proxy(d,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pd(d){return JSON.parse(JSON.stringify(d))}var sg=function(d,n){var s={};for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&n.indexOf(a)<0&&(s[a]=d[a]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(d);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(d,a[l])&&(s[a[l]]=d[a[l]]);return s};const Cr=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),ig=[502,503,504];async function Od(d){var n;if(!H0(d))throw new Jo(Cr(d),0);if(ig.includes(d.status))throw new Jo(Cr(d),d.status);let s;try{s=await d.json()}catch(u){throw new Yd(Cr(u),u)}let a;const l=eg(d);if(l&&l.getTime()>=Xd["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Nd(Cr(s),d.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(a==="session_not_found")throw new lr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new Nd(Cr(s),d.status,s.weak_password.reasons);throw new I0(Cr(s),d.status||500,a)}const ag=(d,n,s,a)=>{const l={method:d,headers:(n==null?void 0:n.headers)||{}};return d==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),s))};async function ie(d,n,s,a){var l;const u=Object.assign({},a==null?void 0:a.headers);u[Qo]||(u[Qo]=Xd["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const f=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(f.redirect_to=a.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await og(d,n,s+g,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function og(d,n,s,a,l,u){const f=ag(n,a,l,u);let g;try{g=await d(s,Object.assign({},f))}catch(m){throw console.error(m),new Jo(Cr(m),0)}if(g.ok||await Od(g),a!=null&&a.noResolveJson)return g;try{return await g.json()}catch(m){await Od(m)}}function Dt(d){var n;let s=null;dg(d)&&(s=Object.assign({},d),d.expires_at||(s.expires_at=q0(d.expires_in)));const a=(n=d.user)!==null&&n!==void 0?n:d;return{data:{session:s,user:a},error:null}}function Id(d){const n=Dt(d);return!n.error&&d.weak_password&&typeof d.weak_password=="object"&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&typeof d.weak_password.message=="string"&&d.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(n.data.weak_password=d.weak_password),n}function ur(d){var n;return{data:{user:(n=d.user)!==null&&n!==void 0?n:d},error:null}}function lg(d){return{data:d,error:null}}function ug(d){const{action_link:n,email_otp:s,hashed_token:a,redirect_to:l,verification_type:u}=d,f=sg(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:s,hashed_token:a,redirect_to:l,verification_type:u},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function cg(d){return d}function dg(d){return d.access_token&&d.refresh_token&&d.expires_in}const Mo=["global","local","others"];var hg=function(d,n){var s={};for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&n.indexOf(a)<0&&(s[a]=d[a]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(d);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(d,a[l])&&(s[a[l]]=d[a[l]]);return s};class fg{constructor({url:n="",headers:s={},fetch:a}){this.url=n,this.headers=s,this.fetch=th(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Mo[0]){if(Mo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mo.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Y(a))return{data:null,error:a};throw a}}async inviteUserByEmail(n,s={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ur})}catch(a){if(Y(a))return{data:{user:null},error:a};throw a}}async generateLink(n){try{const{options:s}=n,a=hg(n,["options"]),l=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:ug,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Y(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ur})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,a,l,u,f,g,m;try{const v={nextPage:null,lastPage:0,total:0},w=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=n==null?void 0:n.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:cg});if(w.error)throw w.error;const _=await w.json(),T=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,I=(m=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return I.length>0&&(I.forEach(U=>{const C=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(U.split(";")[1].split("=")[1]);v[`${P}Page`]=C}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(Y(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){cn(n);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ur})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){cn(n);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:ur})}catch(a){if(Y(a))return{data:{user:null},error:a};throw a}}async deleteUser(n,s=!1){cn(n);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:ur})}catch(a){if(Y(a))return{data:{user:null},error:a};throw a}}async _listFactors(n){cn(n.userId);try{const{data:s,error:a}=await ie(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:a}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteFactor(n){cn(n.userId),cn(n.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}}function Rd(d={}){return{getItem:n=>d[n]||null,setItem:(n,s)=>{d[n]=s},removeItem:n=>{delete d[n]}}}function pg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dn={debug:!!(globalThis&&eh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rh extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class gg extends rh{}async function mg(d,n,s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,n);const a=new globalThis.AbortController;return n>0&&setTimeout(()=>{a.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(d,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,l.name);try{return await s()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,l.name)}}else{if(n===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new gg(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(dn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}pg();const yg={url:E0,storageKey:C0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ad(d,n,s){return await s()}const hn={};class us{constructor(n){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},yg),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new fg({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=th(l.fetch),this.lock=l.lock||Ad,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:wt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=mg:this.lock=Ad,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:eh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rd(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Rd(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=hn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=hn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gd}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=W0(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),wt()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),L0(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:g}=l;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Y(s)?{error:s}:{error:new Yd("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,a,l;try{const u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.captchaToken}},xform:Dt}),{data:f,error:g}=u;if(g||!f)return{data:{user:null,session:null},error:g};const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(Y(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var s,a,l;try{let u;if("email"in n){const{email:w,password:_,options:T}=n;let I=null,U=null;this.flowType==="pkce"&&([I,U]=await un(this.storage,this.storageKey)),u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:w,password:_,data:(s=T==null?void 0:T.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:I,code_challenge_method:U},xform:Dt})}else if("phone"in n){const{phone:w,password:_,options:T}=n;u=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:_,data:(a=T==null?void 0:T.data)!==null&&a!==void 0?a:{},channel:(l=T==null?void 0:T.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Dt})}else throw new Ci("You must provide either an email or phone number and a password");const{data:f,error:g}=u;if(g||!f)return{data:{user:null,session:null},error:g};const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(Y(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let s;if("email"in n){const{email:u,password:f,options:g}=n;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Id})}else if("phone"in n){const{phone:u,password:f,options:g}=n;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Id})}else throw new Ci("You must provide either an email or phone number and a password");const{data:a,error:l}=s;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ei}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,a,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,a,l,u,f,g,m,v,w,_,T,I;let U,C;if("message"in n)U=n.message,C=n.signature;else{const{chain:P,wallet:N,statement:B,options:D}=n;let W;if(wt())if(typeof N=="object")W=N;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))W=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=N}const ne=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in W&&W.signIn){const ee=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),B?{statement:B}:null));let ae;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")ae=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)ae=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)U=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),C=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${ne.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(l=(a=D==null?void 0:D.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D==null?void 0:D.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(w=D==null?void 0:D.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const ee=await W.signMessage(new TextEncoder().encode(U),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=ee}}try{const{data:P,error:N}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:B0(C)},!((T=n.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(I=n.options)===null||I===void 0?void 0:I.captchaToken}}:null),xform:Dt});if(N)throw N;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Ei}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:N})}catch(P){if(Y(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(n){const s=await Er(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(s??"").split("/");try{const{data:u,error:f}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:Dt});if(await or(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ei}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:f})}catch(u){if(Y(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:s,provider:a,token:l,access_token:u,nonce:f}=n,g=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Dt}),{data:m,error:v}=g;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ei}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:v})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,a,l,u,f;try{if("email"in n){const{email:g,options:m}=n;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await un(this.storage,this.storageKey));const{error:_}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:g,options:m}=n,{data:v,error:w}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:w}}throw new Ci("You must provide either an email or phone number.")}catch(g){if(Y(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(n){var s,a;try{let l,u;"options"in n&&(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo,u=(a=n.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:g}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Dt});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,v=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var s,a,l;try{let u=null,f=null;return this.flowType==="pkce"&&([u,f]=await un(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=n==null?void 0:n.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:lg})}catch(u){if(Y(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)throw a;if(!s)throw new lr;const{error:l}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:a,type:l,options:u}=n,{error:f}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:a,type:l,options:u}=n,{data:f,error:g}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new Ci("You must provide either an email or phone number and a type")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const a=n.expires_at?n.expires_at*1e3-Date.now()<Lo:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.userStorage){const f=await Er(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Do()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,v,w)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,v,w))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ur}):await this._useSession(async s=>{var a,l,u;const{data:f,error:g}=s;if(g)throw g;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lr}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:ur})})}catch(s){if(Y(s))return A0(s)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new lr;const f=l.session;let g=null,m=null;this.flowType==="pkce"&&n.email!=null&&([g,m]=await un(this.storage,this.storageKey));const{data:v,error:w}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:ur});if(w)throw w;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(a){if(Y(a))return{data:{user:null},error:a};throw a}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new lr;const s=Date.now()/1e3;let a=s,l=!0,u=null;const{payload:f}=Uo(n.access_token);if(f.exp&&(a=f.exp,l=a<=s),l){const{session:g,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!g)return{data:{user:null,session:null},error:null};u=g}else{const{data:g,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(Y(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var a;if(!n){const{data:f,error:g}=s;if(g)throw g;n=(a=f.session)!==null&&a!==void 0?a:void 0}if(!(n!=null&&n.refresh_token))throw new lr;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!wt())throw new Ti("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ti(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ti("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new jd("No code detected.");const{data:B,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:f,expires_in:g,expires_at:m,token_type:v}=n;if(!u||!g||!f||!v)throw new Ti("No session defined in URL");const w=Math.round(Date.now()/1e3),_=parseInt(g);let T=w+_;m&&(T=parseInt(m));const I=T-w;I*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${_}s`);const U=T-_;w-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,T,w):w-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,T,w);const{data:C,error:P}=await this._getUser(u);if(P)throw P;const N={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:_,expires_at:T,refresh_token:f,token_type:v,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:n.type},error:null}}catch(a){if(Y(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Er(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return{error:u};const f=(a=l.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(R0(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return n!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=V0(),a={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(n){return await this._useSession(async s=>{var a,l;try{const{data:{session:u},error:f}=s;if(f)throw f;await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,s={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await un(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(Y(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:a,error:l}=await this._useSession(async u=>{var f,g,m,v,w;const{data:_,error:T}=u;if(T)throw T;const I=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",I,{headers:this.headers,jwt:(w=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:void 0})});if(l)throw l;return wt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:n.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Y(a))return{data:{provider:n.provider,url:null},error:a};throw a}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var a,l;const{data:u,error:f}=s;if(f)throw f;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await Q0(async l=>(l>0&&await K0(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Dt})),(l,u)=>{const f=200*Math.pow(2,l);return u&&$o(u)&&Date.now()+f-a<fn})}catch(a){if(this._debug(s,"error",a),Y(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",a),wt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}}async _recoverAndRefresh(){var n,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Er(this.storage,this.storageKey);if(l&&this.userStorage){let f=await Er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:l.user},await pn(this.userStorage,this.storageKey+"-user",f)),l.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Do()}else if(l&&!l.user&&!l.user){const f=await Er(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(l.user=f.user,await or(this.storage,this.storageKey+"-user"),await pn(this.storage,this.storageKey,l)):l.user=Do()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Lo;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${Lo}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),$o(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(l.access_token);!g&&(f!=null&&f.user)?(l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(n){var s,a;if(!n)throw new lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ri;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new lr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const g={session:u.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(u){if(this._debug(l,"error",u),Y(u)){const f={session:null,error:u};return $o(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,s,a=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:s});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,s)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let g=0;g<u.length;g+=1)console.error(u[g]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await pn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=Pd(l);await pn(this.storage,this.storageKey,u)}else{const l=Pd(s);await pn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await or(this.storage,this.storageKey+"-code-verifier"),await or(this.storage,this.storageKey+"-user"),this.userStorage&&await or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-n)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${fn}ms, refresh threshold is ${Ko} ticks`),l<=Ko&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof rh)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,a){const l=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,f]=await un(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(g.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;return u?{data:null,error:u}:await ie(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var a,l;const{data:u,error:f}=s;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:v}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return{data:null,error:u};const{data:f,error:g}=await ie(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;return u?{data:null,error:u}:await ie(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:a}=await this._challenge({factorId:n.factorId});return a?{data:null,error:a}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(n==null?void 0:n.factors)||[],l=a.filter(f=>f.factor_type==="totp"&&f.status==="verified"),u=a.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:a,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,a;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Uo(l.access_token);let g=null;f.aal&&(g=f.aal);let m=g;((a=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const w=f.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:w},error:null}}))}async fetchJwk(n,s={keys:[]}){let a=s.keys.find(g=>g.kid===n);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(g=>g.kid===n),a&&this.jwks_cached_at+O0>l)return a;const{data:u,error:f}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(g=>g.kid===n),!a)?null:a}async getClaims(n,s={}){try{let a=n;if(!a){const{data:I,error:U}=await this.getSession();if(U||!I.session)return{data:null,error:U};a=I.session.access_token}const{header:l,payload:u,signature:f,raw:{header:g,payload:m}}=Uo(a);s!=null&&s.allowExpired||tg(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:I}=await this.getUser(a);if(I)throw I;return{data:{claims:u,header:l,signature:f},error:null}}const w=rg(l.alg),_=await crypto.subtle.importKey("jwk",v,w,!0,["verify"]);if(!await crypto.subtle.verify(w,_,f,F0(`${g}.${m}`)))throw new Go("Invalid JWT signature");return{data:{claims:u,header:l,signature:f},error:null}}catch(a){if(Y(a))return{data:null,error:a};throw a}}}us.nextInstanceID=0;const vg=us;class wg extends vg{constructor(n){super(n)}}var xg=function(d,n,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function g(w){try{v(a.next(w))}catch(_){f(_)}}function m(w){try{v(a.throw(w))}catch(_){f(_)}}function v(w){w.done?u(w.value):l(w.value).then(g,m)}v((a=a.apply(d,n||[])).next())})};class kg{constructor(n,s,a){var l,u,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const g=j0(n),m=new URL(g);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const v=`sb-${m.hostname.split(".")[0]}-auth-token`,w={db:y0,realtime:w0,auth:Object.assign(Object.assign({},v0),{storageKey:v}),global:m0},_=N0(a??{},w);this.storageKey=(l=_.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=_.global.headers)!==null&&u!==void 0?u:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(T,I)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(I)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=S0(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new Up(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new f0(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new jp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},a={}){return this.rest.rpc(n,s,a)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return xg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:l,storageKey:u,flowType:f,lock:g,debug:m},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wg({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:u,autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:l,flowType:f,lock:g,debug:m,fetch:w,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new e0(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(n,s,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _g=(d,n,s)=>new kg(d,n,s);function Sg(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const n=d.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Sg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bg="https://mhigdzpmliurqyxeeshm.supabase.co",jg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oaWdkenBtbGl1cnF5eGVlc2htIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2ODI3OTgsImV4cCI6MjA3MTI1ODc5OH0.W9gdrXwfaKcH57CY62r_dSv-o_aw7VgpTzNYtXf9nkM",nh=_g(bg,jg),sh=Z.createContext(null),fs=()=>{const d=Z.useContext(sh);if(!d)throw new Error("useStock must be used within a StockProvider");return d},Ng=[{id:"123e4567-e89b-12d3-a456-426614174004",name:"Laptop Dell XPS 13",quantity:45,unit:"pieces",specifications:'Intel i7, 16GB RAM, 512GB SSD, 13.3" Display',category:"Electronics",pricePerUnit:1299.99,supplierId:"123e4567-e89b-12d3-a456-426614174000",addedBy:"admin",dateAdded:"2024-01-15",lastUpdated:"2024-01-20",threshold:10,barcode:"1234567890123",imageUrl:"https://images.pexels.com/photos/205421/pexels-photo-205421.jpeg"},{id:"123e4567-e89b-12d3-a456-426614174005",name:"Office Chair Ergonomic",quantity:28,unit:"pieces",specifications:"Adjustable height, lumbar support, breathable mesh",category:"Furniture",pricePerUnit:299.99,supplierId:"123e4567-e89b-12d3-a456-426614174001",addedBy:"staff",dateAdded:"2024-01-10",lastUpdated:"2024-01-18",threshold:5},{id:"123e4567-e89b-12d3-a456-426614174006",name:"Printer Paper A4",quantity:8,unit:"reams",specifications:"80gsm, 500 sheets per ream, white",category:"Consumables",pricePerUnit:12.99,supplierId:"123e4567-e89b-12d3-a456-426614174002",addedBy:"staff",dateAdded:"2024-01-12",lastUpdated:"2024-01-22",threshold:15},{id:"123e4567-e89b-12d3-a456-426614174007",name:"Wireless Mouse Logitech",quantity:67,unit:"pieces",specifications:"Optical sensor, 2.4GHz wireless, 3 buttons",category:"Electronics",pricePerUnit:49.99,supplierId:"123e4567-e89b-12d3-a456-426614174000",addedBy:"admin",dateAdded:"2024-01-08",lastUpdated:"2024-01-19",threshold:20},{id:"123e4567-e89b-12d3-a456-426614174008",name:"Coffee Beans Premium",quantity:15,unit:"kg",specifications:"Arabica beans, medium roast, organic certified",category:"Consumables",pricePerUnit:24.99,supplierId:"123e4567-e89b-12d3-a456-426614174003",addedBy:"staff",dateAdded:"2024-01-14",lastUpdated:"2024-01-21",threshold:10}],Eg=[{id:"123e4567-e89b-12d3-a456-426614174009",itemId:"123e4567-e89b-12d3-a456-426614174004",itemName:"Laptop Dell XPS 13",type:"inbound",quantity:50,userId:"123e4567-e89b-12d3-a456-426614174010",userName:"John Admin",timestamp:"2024-01-15T10:30:00Z",supplierName:"TechCorp Solutions",invoiceNumber:"INV-2024-001",cost:64999.5,status:"completed"},{id:"123e4567-e89b-12d3-a456-426614174011",itemId:"123e4567-e89b-12d3-a456-426614174004",itemName:"Laptop Dell XPS 13",type:"outbound",quantity:5,userId:"123e4567-e89b-12d3-a456-426614174012",userName:"Jane Staff",timestamp:"2024-01-20T14:15:00Z",reason:"Department Transfer",transferredTo:"Sales Department",department:"Sales",status:"completed"},{id:"123e4567-e89b-12d3-a456-426614174013",itemId:"123e4567-e89b-12d3-a456-426614174006",itemName:"Printer Paper A4",type:"outbound",quantity:12,userId:"123e4567-e89b-12d3-a456-426614174012",userName:"Jane Staff",timestamp:"2024-01-22T09:45:00Z",reason:"Office Use",transferredTo:"HR Department",department:"HR",status:"completed"}],Cg=[{id:"123e4567-e89b-12d3-a456-426614174014",name:"Sales",head:"Tom Anderson",location:"Floor 2, East Wing"},{id:"123e4567-e89b-12d3-a456-426614174015",name:"HR",head:"Emma Thompson",location:"Floor 1, West Wing"},{id:"123e4567-e89b-12d3-a456-426614174016",name:"IT",head:"Alex Rodriguez",location:"Floor 3, North Wing"},{id:"123e4567-e89b-12d3-a456-426614174017",name:"Finance",head:"Maria Davis",location:"Floor 1, East Wing"}],Tg=({children:d})=>{const[n,s]=Z.useState([]),[a,l]=Z.useState([]),[u,f]=Z.useState([]),[g]=Z.useState(Cg);Z.useEffect(()=>{(async()=>{const{data:P,error:N}=await nh.from("suppliers").select("*");N?console.error("Error fetching suppliers:",N):f(P)})()},[]),Z.useEffect(()=>{const C=localStorage.getItem("stockItems"),P=localStorage.getItem("transactions");s(C?JSON.parse(C):Ng),l(P?JSON.parse(P):Eg)},[]),Z.useEffect(()=>{localStorage.setItem("stockItems",JSON.stringify(n))},[n]),Z.useEffect(()=>{localStorage.setItem("transactions",JSON.stringify(a))},[a]);const m=C=>{const P={...C,id:crypto.randomUUID(),dateAdded:new Date().toISOString(),lastUpdated:new Date().toISOString()};s(N=>[...N,P])},v=(C,P)=>{s(N=>N.map(B=>B.id===C?{...B,...P,lastUpdated:new Date().toISOString()}:B))},w=C=>{s(P=>P.filter(N=>N.id!==C))},_=C=>{const P={...C,id:crypto.randomUUID(),timestamp:new Date().toISOString()};l(N=>[...N,P]),C.status==="completed"&&s(N=>N.map(B=>{if(B.id===C.itemId){const D=C.type==="inbound"?C.quantity:-C.quantity;return{...B,quantity:Math.max(0,B.quantity+D),lastUpdated:new Date().toISOString()}}return B}))},T=()=>{const C=n.length,P=n.reduce((W,ne)=>W+ne.quantity*ne.pricePerUnit,0),N=n.filter(W=>W.quantity<=W.threshold).length,B=a.filter(W=>new Date(W.timestamp)>new Date(Date.now()-10080*60*1e3)).length,D=n.reduce((W,ne)=>(W[ne.category]=(W[ne.category]||0)+ne.quantity,W),{});return{totalItems:C,totalValue:P,lowStockItems:N,recentTransactions:B,categorySummary:D}},I=()=>n.filter(C=>C.quantity<=C.threshold),U=C=>{const P=C.toLowerCase();return n.filter(N=>N.name.toLowerCase().includes(P)||N.category.toLowerCase().includes(P)||N.specifications.toLowerCase().includes(P))};return h.jsx(sh.Provider,{value:{stockItems:n,transactions:a,suppliers:u,departments:g,addStockItem:m,updateStockItem:v,deleteStockItem:w,addTransaction:_,getStockSummary:T,getLowStockItems:I,searchItems:U},children:d})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(d,n)=>{const s=Z.forwardRef(({color:a="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:g="",children:m,...v},w)=>Z.createElement("svg",{ref:w,...Pg,width:l,height:l,stroke:a,strokeWidth:f?Number(u)*24/Number(l):u,className:["lucide",`lucide-${Og(d)}`,g].join(" "),...v},[...n.map(([_,T])=>Z.createElement(_,T)),...Array.isArray(m)?m:[m]]));return s.displayName=`${d}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=de("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=de("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=de("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=de("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=de("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=de("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=de("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),tm=()=>{const[d,n]=Z.useState(""),[s,a]=Z.useState(""),[l,u]=Z.useState(!1),[f,g]=Z.useState(""),[m,v]=Z.useState(!1),{login:w}=zt(),_=async T=>{T.preventDefault(),g(""),v(!0);try{await w(d,s)||g("Invalid username or password")}catch{g("An error occurred during login")}v(!1)};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center",children:h.jsx(cr,{className:"h-8 w-8 text-white"})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"StockFlow Pro"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Advanced Stock Management System"})]}),h.jsxs("div",{className:"bg-white py-8 px-6 shadow-xl rounded-xl",children:[h.jsxs("form",{className:"space-y-6",onSubmit:_,children:[f&&h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[h.jsx(ih,{className:"h-5 w-5 text-red-500 mr-2"}),h.jsx("span",{className:"text-red-700 text-sm",children:f})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),h.jsx("input",{id:"username",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your username",value:d,onChange:T=>n(T.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),h.jsxs("div",{className:"mt-1 relative",children:[h.jsx("input",{id:"password",type:l?"text":"password",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",value:s,onChange:T=>a(T.target.value)}),h.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!l),children:l?h.jsx(zg,{className:"h-5 w-5 text-gray-400"}):h.jsx(Fg,{className:"h-5 w-5 text-gray-400"})})]})]}),h.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Signing in...":"Sign In"})]}),h.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6",children:h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsx("p",{className:"font-semibold mb-2",children:"Demo Accounts:"}),h.jsxs("div",{className:"space-y-1 text-xs",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Admin:"})," admin / password"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Staff:"})," staff / password"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Viewer:"})," viewer / password"]})]})]})})]})]})})},rm=({activeTab:d,setActiveTab:n})=>{const{user:s}=zt(),l=[{id:"dashboard",label:"Dashboard",icon:qg,roles:["admin","staff","viewer"]},{id:"inventory",label:"Inventory",icon:cr,roles:["admin","staff","viewer"]},{id:"add-stock",label:"Add Stock",icon:oh,roles:["admin","staff"]},{id:"distribute-stock",label:"Distribute Stock",icon:Wg,roles:["admin","staff"]},{id:"reports",label:"Reports",icon:Xo,roles:["admin","staff","viewer"]},{id:"analytics",label:"Analytics",icon:sl,roles:["admin","staff","viewer"]},{id:"low-stock",label:"Low Stock Alerts",icon:cs,roles:["admin","staff","viewer"]},{id:"suppliers",label:"Suppliers",icon:Ug,roles:["admin","staff"]},{id:"users",label:"User Management",icon:em,roles:["admin"]},{id:"settings",label:"Settings",icon:uh,roles:["admin"]}].filter(u=>u.roles.includes((s==null?void 0:s.role)||"viewer"));return h.jsx("aside",{className:"bg-white dark:bg-gray-800 w-64 min-h-screen border-r border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"p-6",children:[h.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white mb-8",children:"StockFlow Pro"}),h.jsx("nav",{className:"space-y-2",children:l.map(u=>{const f=u.icon,g=d===u.id;return h.jsxs("button",{onClick:()=>n(u.id),className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${g?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border-r-2 border-blue-600":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[h.jsx(f,{className:"h-5 w-5 mr-3"}),u.label]},u.id)})})]})})},nm=({darkMode:d,setDarkMode:n})=>{var v,w;const{user:s,logout:a}=zt(),[l,u]=Z.useState(!1),[f]=Z.useState([{id:1,message:"Low stock alert: Printer Paper A4",type:"warning",time:"5 min ago"},{id:2,message:"New stock received: Laptop Dell XPS 13",type:"success",time:"1 hour ago"},{id:3,message:"Pending approval: Furniture order",type:"info",time:"2 hours ago"}]),[g,m]=Z.useState(!1);return h.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:["Welcome back, ",s==null?void 0:s.firstName,"!"]}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:(s==null?void 0:s.role)==="admin"?"System Administrator":(s==null?void 0:s.role)==="staff"?"Staff Member":"Viewer"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>m(!g),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 relative",children:[h.jsx($g,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}),f.length>0&&h.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:f.length})]}),g&&h.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-700 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 z-50",children:[h.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-600",children:h.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:"Notifications"})}),h.jsx("div",{className:"max-h-80 overflow-y-auto",children:f.map(_=>h.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-600 last:border-b-0",children:[h.jsx("p",{className:"text-sm text-gray-800 dark:text-white",children:_.message}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:_.time})]},_.id))})]})]}),h.jsx("button",{onClick:()=>n(!d),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:d?h.jsx(Xg,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}):h.jsx(Hg,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>u(!l),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[h.jsxs("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:[(v=s==null?void 0:s.firstName)==null?void 0:v.charAt(0),(w=s==null?void 0:s.lastName)==null?void 0:w.charAt(0)]}),h.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]})]}),l&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 z-50",children:h.jsxs("div",{className:"p-2",children:[h.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:[h.jsx(Zg,{className:"h-4 w-4 mr-3"}),"Profile"]}),h.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:[h.jsx(uh,{className:"h-4 w-4 mr-3"}),"Settings"]}),h.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-600"}),h.jsxs("button",{onClick:a,className:"w-full flex items-center px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:[h.jsx(Vg,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})})]})]})]})})},Pi=({title:d,value:n,change:s,changeType:a="neutral",icon:l,color:u})=>{const f={blue:"bg-blue-500 text-blue-50",green:"bg-green-500 text-green-50",yellow:"bg-yellow-500 text-yellow-50",red:"bg-red-500 text-red-50",purple:"bg-purple-500 text-purple-50"},g={positive:"text-green-600 dark:text-green-400",negative:"text-red-600 dark:text-red-400",neutral:"text-gray-600 dark:text-gray-400"};return h.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:d}),h.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n}),s&&h.jsx("p",{className:`text-sm mt-2 ${g[a]}`,children:s})]}),h.jsx("div",{className:`p-3 rounded-full ${f[u]}`,children:h.jsx(l,{className:"h-6 w-6"})})]})})},sm=({transactions:d})=>d.length===0?h.jsx("div",{className:"flex items-center justify-center h-32 text-gray-500 dark:text-gray-400",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Mg,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),h.jsx("p",{children:"No recent transactions"})]})}):h.jsx("div",{className:"space-y-4",children:d.slice(0,5).map(n=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`p-2 rounded-full ${n.type==="inbound"?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:n.type==="inbound"?h.jsx(Ag,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):h.jsx(Rg,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.itemName}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.type==="inbound"?"Added":"Distributed"," ",n.quantity," units",n.transferredTo&&` to ${n.transferredTo}`]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(n.timestamp).toLocaleDateString()}),h.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["by ",n.userName]})]})]},n.id))}),im=({data:d})=>{const n=Math.max(...Object.values(d)),s=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316"];return Object.keys(d).length===0?h.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Lg,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{children:"No data available"})]})}):h.jsx("div",{className:"space-y-4",children:Object.entries(d).map(([a,l],u)=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a}),h.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l," items"]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${l/n*100}%`,backgroundColor:s[u%s.length]}})})]},a))})},am=({items:d})=>d.length===0?h.jsx("div",{className:"flex items-center justify-center h-32 text-green-600 dark:text-green-400",children:h.jsxs("div",{className:"text-center",children:[h.jsx(cr,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"All stock levels are healthy!"})]})}):h.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:d.map(n=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(cs,{className:"h-5 w-5 text-red-500"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.name}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Current: ",n.quantity," ",n.unit," (Threshold: ",n.threshold,")"]})]})]}),h.jsx("div",{className:"text-right",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Low Stock"})})]},n.id))}),Ld=()=>{const{user:d}=zt(),{getStockSummary:n,getLowStockItems:s,transactions:a}=fs(),l=n(),u=s(),f=a.sort((g,m)=>new Date(m.timestamp).getTime()-new Date(g.timestamp).getTime()).slice(0,10);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard Overview"}),h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx(Pi,{title:"Total Items",value:l.totalItems,change:"+12% from last month",changeType:"positive",icon:cr,color:"blue"}),h.jsx(Pi,{title:"Total Value",value:`$${l.totalValue.toLocaleString()}`,change:"+8.2% from last month",changeType:"positive",icon:sl,color:"green"}),h.jsx(Pi,{title:"Low Stock Items",value:l.lowStockItems,change:l.lowStockItems>0?"Requires attention":"All good",changeType:l.lowStockItems>0?"negative":"positive",icon:cs,color:l.lowStockItems>0?"red":"green"}),h.jsx(Pi,{title:"Recent Transactions",value:l.recentTransactions,change:"Last 7 days",changeType:"neutral",icon:Ig,color:"purple"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Stock Levels by Category"}),h.jsx(im,{data:l.categorySummary})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Low Stock Alerts"}),h.jsx(am,{items:u})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Transactions"}),h.jsx(sm,{transactions:f})]})]})},om=({searchQuery:d})=>{const{stockItems:n,searchItems:s,deleteStockItem:a}=fs(),{user:l}=zt(),[u,f]=Z.useState("name"),[g,m]=Z.useState("asc"),v=(l==null?void 0:l.role)==="admin"||(l==null?void 0:l.role)==="staff",_=[...d?s(d):n].sort((C,P)=>{const N=C[u],B=P[u];return typeof N=="string"&&typeof B=="string"?g==="asc"?N.localeCompare(B):B.localeCompare(N):typeof N=="number"&&typeof B=="number"?g==="asc"?N-B:B-N:0}),T=C=>{u===C?m(g==="asc"?"desc":"asc"):(f(C),m("asc"))},I=C=>{confirm("Are you sure you want to delete this item?")&&a(C)},U=C=>C.quantity===0?{status:"out",color:"red",icon:cs,label:"Out of Stock"}:C.quantity<=C.threshold?{status:"low",color:"yellow",icon:cs,label:"Low Stock"}:{status:"good",color:"green",icon:Dg,label:"In Stock"};return _.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:d?"No items found":"No inventory items"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:d?"Try adjusting your search terms":"Start by adding your first inventory item"})]}):h.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>T("name"),children:["Item Name",u==="name"&&h.jsx("span",{className:"ml-1",children:g==="asc"?"↑":"↓"})]}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>T("category"),children:"Category"}),h.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>T("quantity"),children:["Quantity",u==="quantity"&&h.jsx("span",{className:"ml-1",children:g==="asc"?"↑":"↓"})]}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),h.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>T("pricePerUnit"),children:["Unit Price",u==="pricePerUnit"&&h.jsx("span",{className:"ml-1",children:g==="asc"?"↑":"↓"})]}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Value"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Updated"}),v&&h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:_.map(C=>{const P=U(C),N=P.icon;return h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[C.imageUrl&&h.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:C.imageUrl,alt:C.name}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:C.name}),C.barcode&&h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",C.barcode]})]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:C.category})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[C.quantity," ",C.unit]}),h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Threshold: ",C.threshold]})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.color==="green"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":P.color==="yellow"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[h.jsx(N,{className:"h-3 w-3 mr-1"}),P.label]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",C.pricePerUnit.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",(C.quantity*C.pricePerUnit).toFixed(2)]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(C.lastUpdated).toLocaleDateString()}),v&&h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex items-center space-x-2 justify-end",children:[h.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:h.jsx(Gg,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>I(C.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:h.jsx(Yg,{className:"h-4 w-4"})})]})})]},C.id)})})]})})})},$d=()=>{const[d,n]=Z.useState(""),[s,a]=Z.useState(!1),{user:l}=zt(),u=(l==null?void 0:l.role)==="admin"||(l==null?void 0:l.role)==="staff",f=()=>{alert("Export functionality would be implemented here")};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inventory Management"}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[h.jsx(ah,{className:"h-4 w-4 mr-2"}),"Export"]}),u&&h.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(oh,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search items by name, category, or specifications...",value:d,onChange:g=>n(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),h.jsxs("button",{onClick:()=>a(!s),className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[h.jsx(Bg,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),s&&h.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),h.jsxs("select",{className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[h.jsx("option",{value:"",children:"All Categories"}),h.jsx("option",{value:"Electronics",children:"Electronics"}),h.jsx("option",{value:"Furniture",children:"Furniture"}),h.jsx("option",{value:"Consumables",children:"Consumables"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Stock Status"}),h.jsxs("select",{className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[h.jsx("option",{value:"",children:"All Items"}),h.jsx("option",{value:"low",children:"Low Stock"}),h.jsx("option",{value:"out",children:"Out of Stock"}),h.jsx("option",{value:"good",children:"In Stock"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range"}),h.jsxs("select",{className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[h.jsx("option",{value:"",children:"All Prices"}),h.jsx("option",{value:"0-50",children:"$0 - $50"}),h.jsx("option",{value:"50-200",children:"$50 - $200"}),h.jsx("option",{value:"200+",children:"$200+"})]})]})]})]}),h.jsx(om,{searchQuery:d})]})},lm=()=>{const{addStockItem:d,suppliers:n}=fs(),{user:s}=zt(),[a,l]=Z.useState({name:"",quantity:0,unit:"pieces",specifications:"",category:"Electronics",pricePerUnit:0,supplierId:"",threshold:10,barcode:"",image_url:""}),[u,f]=Z.useState(1),g=3,m=["Electronics","Furniture","Consumables","Tools","Office Supplies","Safety Equipment"],v=["pieces","kg","liters","meters","boxes","reams","bottles","custom"],w=C=>{const{name:P,value:N,type:B}=C.target;l(D=>({...D,[P]:B==="number"?parseFloat(N)||0:N}))},_=async C=>{if(C.preventDefault(),!a.name.trim()){alert("Please enter an item name");return}try{const{data:P,error:N}=await nh.from("stockitems").insert([{name:a.name,quantity:a.quantity,unit:a.unit,specifications:a.specifications||null,category:a.category,price_per_unit:a.pricePerUnit,supplier_id:a.supplierId||null,added_by:(s==null?void 0:s.username)||"unknown",threshold:a.threshold,barcode:a.barcode||null,image_url:a.image_url||null}]);if(N){console.error("Error inserting stock item:",N),alert(`Failed to add item: ${N.message}`);return}d({...a,addedBy:(s==null?void 0:s.username)||"unknown"}),l({name:"",quantity:0,unit:"pieces",specifications:"",category:"Electronics",pricePerUnit:0,supplierId:"",threshold:10,barcode:"",image_url:""}),f(1),alert("Item added successfully!")}catch(P){console.error("Unexpected error:",P),alert("An unexpected error occurred while adding the item")}},T=()=>{u<g&&f(u+1)},I=()=>{u>1&&f(u-1)},U=()=>{const C=Math.random().toString().substr(2,13);l(P=>({...P,barcode:C})),alert(`Barcode scanned: ${C}`)};return h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Add New Stock Item"}),h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Step ",u," of ",g]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:g},(C,P)=>h.jsxs("div",{className:`flex items-center ${P<g-1?"flex-1":""}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${P+1<=u?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500 dark:text-gray-400"}`,children:P+1}),P<g-1&&h.jsx("div",{className:`flex-1 h-1 mx-4 ${P+1<u?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`})]},P+1))}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[h.jsx("span",{children:"Basic Info"}),h.jsx("span",{children:"Details & Pricing"}),h.jsx("span",{children:"Review & Submit"})]})]}),h.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[u===1&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Item Name *"}),h.jsx("input",{type:"text",name:"name",value:a.name,onChange:w,required:!0,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter item name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),h.jsx("select",{name:"category",value:a.category,onChange:w,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:m.map(C=>h.jsx("option",{value:C,children:C},C))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Initial Quantity *"}),h.jsx("input",{type:"number",name:"quantity",value:a.quantity,onChange:w,min:"0",required:!0,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Unit *"}),h.jsx("select",{name:"unit",value:a.unit,onChange:w,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:v.map(C=>h.jsx("option",{value:C,children:C},C))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Barcode"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",name:"barcode",value:a.barcode,onChange:w,className:"flex-1 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter or scan barcode"}),h.jsxs("button",{type:"button",onClick:U,className:"px-4 py-3 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 flex items-center",children:[h.jsx(Qg,{className:"h-4 w-4 mr-2"}),"Scan"]})]})]})]}),u===2&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Details & Pricing"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Specifications"}),h.jsx("textarea",{name:"specifications",value:a.specifications,onChange:w,rows:4,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Detailed description, features, model numbers, etc."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price per Unit *"}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"$"}),h.jsx("input",{type:"number",name:"pricePerUnit",value:a.pricePerUnit,onChange:w,min:"0",step:"0.01",required:!0,className:"w-full pl-8 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0.00"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Low Stock Threshold *"}),h.jsx("input",{type:"number",name:"threshold",value:a.threshold,onChange:w,min:"0",required:!0,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"10"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Supplier"}),h.jsxs("select",{name:"supplierId",value:a.supplierId,onChange:w,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[h.jsx("option",{value:"",children:"Select a supplier"}),n.map(C=>h.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),u===3&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Review & Submit"}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Name:"}),h.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:a.name})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Category:"}),h.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:a.category})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Quantity:"}),h.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white",children:[a.quantity," ",a.unit]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Unit Price:"}),h.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white",children:["$",a.pricePerUnit]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Total Value:"}),h.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white",children:["$",(a.quantity*a.pricePerUnit).toFixed(2)]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Threshold:"}),h.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white",children:[a.threshold," ",a.unit]})]})]}),a.specifications&&h.jsxs("div",{className:"mt-4",children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:"Specifications:"}),h.jsx("p",{className:"mt-1 text-gray-900 dark:text-white",children:a.specifications})]})]})]}),h.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200 dark:border-gray-600",children:[h.jsx("button",{type:"button",onClick:I,disabled:u===1,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),u<g?h.jsx("button",{type:"button",onClick:T,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Next"}):h.jsxs("button",{type:"submit",className:"inline-flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[h.jsx(Kg,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})]})},um=()=>{const{stockItems:d,departments:n,addTransaction:s}=fs(),{user:a}=zt(),[l,u]=Z.useState(null),[f,g]=Z.useState(""),[m,v]=Z.useState({quantity:0,transferredTo:"",department:"",reason:"Internal Use",notes:""}),[w,_]=Z.useState(!1),T=["Internal Use","Sale","Department Transfer","Project Allocation","Maintenance","Return","Loss/Damage","Other"],I=d.filter(N=>N.name.toLowerCase().includes(f.toLowerCase())||N.category.toLowerCase().includes(f.toLowerCase())),U=N=>{u(N),g(N.name)},C=N=>{const{name:B,value:D,type:W}=N.target;v(ne=>({...ne,[B]:W==="number"?parseFloat(D)||0:D}))},P=async N=>{if(N.preventDefault(),!l){alert("Please select an item");return}if(m.quantity<=0){alert("Please enter a valid quantity");return}if(m.quantity>l.quantity){alert("Quantity exceeds available stock");return}if(!m.transferredTo.trim()){alert("Please specify who/where the stock is being transferred to");return}_(!0);try{const B=m.quantity>50||m.quantity*l.pricePerUnit>1e3;s({itemId:l.id,itemName:l.name,type:"outbound",quantity:m.quantity,userId:(a==null?void 0:a.id)||"unknown",userName:(a==null?void 0:a.firstName)+" "+(a==null?void 0:a.lastName)||"Unknown User",reason:m.reason,transferredTo:m.transferredTo,department:m.department,notes:m.notes,status:B?"pending":"completed"}),u(null),g(""),v({quantity:0,transferredTo:"",department:"",reason:"Internal Use",notes:""}),alert(B?"Distribution request submitted for approval":"Stock distributed successfully!")}catch{alert("Error distributing stock. Please try again.")}_(!1)};return h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Distribute Stock"}),h.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:h.jsxs("form",{onSubmit:P,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Item *"}),h.jsxs("div",{className:"relative",children:[h.jsx(lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx("input",{type:"text",value:f,onChange:N=>g(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Search for items to distribute..."})]}),f&&!l&&h.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700",children:I.length>0?I.map(N=>h.jsx("button",{type:"button",onClick:()=>U(N),className:"w-full text-left p-3 hover:bg-gray-50 dark:hover:bg-gray-600 border-b border-gray-200 dark:border-gray-600 last:border-b-0",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:N.name}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Available: ",N.quantity," ",N.unit," | Category: ",N.category]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["$",N.pricePerUnit,"/unit"]})})]})},N.id)):h.jsx("p",{className:"p-3 text-gray-500 dark:text-gray-400",children:"No items found"})}),l&&h.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:l.name}),h.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Available: ",l.quantity," ",l.unit," | Unit Price: $",l.pricePerUnit]})]}),h.jsx("button",{type:"button",onClick:()=>{u(null),g("")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:"Change"})]})})]}),l&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quantity to Distribute *"}),h.jsx("input",{type:"number",name:"quantity",value:m.quantity,onChange:C,min:"1",max:l.quantity,required:!0,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0"}),h.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Maximum available: ",l.quantity," ",l.unit]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason *"}),h.jsx("select",{name:"reason",value:m.reason,onChange:C,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:T.map(N=>h.jsx("option",{value:N,children:N},N))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transferred To *"}),h.jsx("input",{type:"text",name:"transferredTo",value:m.transferredTo,onChange:C,required:!0,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Person name, employee ID, or external entity"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department"}),h.jsxs("select",{name:"department",value:m.department,onChange:C,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[h.jsx("option",{value:"",children:"Select department"}),n.map(N=>h.jsx("option",{value:N.name,children:N.name},N.id))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),h.jsx("textarea",{name:"notes",value:m.notes,onChange:C,rows:3,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Any additional information about this distribution..."})]}),m.quantity>0&&h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Distribution Summary"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Item:"}),h.jsx("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:l.name})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Quantity:"}),h.jsxs("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:[m.quantity," ",l.unit]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Value:"}),h.jsxs("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:["$",(m.quantity*l.pricePerUnit).toFixed(2)]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Remaining Stock:"}),h.jsxs("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:[l.quantity-m.quantity," ",l.unit]})]})]}),(m.quantity>50||m.quantity*l.pricePerUnit>1e3)&&h.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg flex items-center",children:[h.jsx(ih,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mr-2"}),h.jsx("span",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"This distribution requires admin approval due to high quantity or value."})]}),l.quantity-m.quantity<=l.threshold&&h.jsxs("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg flex items-center",children:[h.jsx(AlertTriangle,{className:"h-4 w-4 text-red-600 dark:text-red-400 mr-2"}),h.jsxs("span",{className:"text-sm text-red-800 dark:text-red-200",children:["Warning: This will bring stock below the threshold (",l.threshold," ",l.unit,")."]})]})]}),h.jsx("button",{type:"submit",disabled:w||m.quantity<=0,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Processing...":h.jsxs(h.Fragment,{children:[h.jsx(Jg,{className:"h-4 w-4 mr-2"}),"Distribute Stock"]})})]})]})})]})},Ud=()=>{const{stockItems:d,transactions:n,getStockSummary:s}=fs(),[a,l]=Z.useState("stock-summary"),[u,f]=Z.useState({start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),g=s(),m=[{id:"stock-summary",name:"Stock Summary",icon:cr},{id:"transaction-history",name:"Transaction History",icon:sl},{id:"valuation-report",name:"Inventory Valuation",icon:Xo},{id:"low-stock-report",name:"Low Stock Report",icon:cr}],v=N=>{alert(`Exporting ${a} as ${N.toUpperCase()}...`)},w=n.filter(N=>{const B=new Date(N.timestamp).toISOString().split("T")[0];return B>=u.start&&B<=u.end}),_=d.filter(N=>N.quantity<=N.threshold),T=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Total Items"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:g.totalItems})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Total Value"}),h.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:["$",g.totalValue.toLocaleString()]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Low Stock Items"}),h.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:g.lowStockItems})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Categories"}),h.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:Object.keys(g.categorySummary).length})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:h.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Stock by Category"})}),h.jsx("div",{className:"p-4",children:h.jsx("div",{className:"space-y-3",children:Object.entries(g.categorySummary).map(([N,B])=>h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:N}),h.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[B," items"]})]},N))})})]})]}),I=()=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:h.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:["Transaction History (",w.length," transactions)"]})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Quantity"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.slice(0,20).map(N=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(N.timestamp).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:N.itemName}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.type==="inbound"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:N.type})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:N.quantity}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:N.userName}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":N.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:N.status})})]},N.id))})]})})]}),U=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Inventory Valuation Summary"}),h.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Total Value: $",g.totalValue.toLocaleString()]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:h.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Items by Value"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Quantity"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Value"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[...d].sort((N,B)=>B.quantity*B.pricePerUnit-N.quantity*N.pricePerUnit).slice(0,10).map(N=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:N.name}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[N.quantity," ",N.unit]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",N.pricePerUnit.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:["$",(N.quantity*N.pricePerUnit).toFixed(2)]})]},N.id))})]})})]})]}),C=()=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:h.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:["Low Stock Items (",_.length," items)"]})}),_.length>0?h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Current Stock"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Threshold"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Category"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:_.map(N=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:N.name}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[N.quantity," ",N.unit]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[N.threshold," ",N.unit]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:N.category}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.quantity===0?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:N.quantity===0?"Out of Stock":"Low Stock"})})]},N.id))})]})}):h.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[h.jsx(cr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"All items have sufficient stock levels!"})]})]}),P=()=>{switch(a){case"stock-summary":return T();case"transaction-history":return I();case"valuation-report":return U();case"low-stock-report":return C();default:return T()}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reports & Analytics"}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("button",{onClick:()=>v("csv"),className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[h.jsx(ah,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),h.jsxs("button",{onClick:()=>v("pdf"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(Xo,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),h.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Report Type"}),h.jsx("select",{value:a,onChange:N=>l(N.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:m.map(N=>h.jsx("option",{value:N.id,children:N.name},N.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),h.jsx("input",{type:"date",value:u.start,onChange:N=>f(B=>({...B,start:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),h.jsx("input",{type:"date",value:u.end,onChange:N=>f(B=>({...B,end:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})}),P()]})},cm=()=>{const{user:d,isLoading:n}=zt(),[s,a]=Z.useState("dashboard"),[l,u]=Z.useState(()=>{const g=localStorage.getItem("darkMode");return g?JSON.parse(g):!1});if(Z.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(l)),l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]),n)return h.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!d)return h.jsx(tm,{});const f=()=>{switch(s){case"dashboard":return h.jsx(Ld,{});case"inventory":return h.jsx($d,{});case"add-stock":return h.jsx(lm,{});case"distribute-stock":return h.jsx(um,{});case"reports":return h.jsx(Ud,{});case"analytics":return h.jsx(Ud,{});case"low-stock":return h.jsx($d,{});case"suppliers":return h.jsxs("div",{className:"text-center py-12",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Supplier Management"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Feature coming soon..."})]});case"users":return h.jsxs("div",{className:"text-center py-12",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"User Management"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Feature coming soon..."})]});case"settings":return h.jsxs("div",{className:"text-center py-12",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Settings"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Feature coming soon..."})]});default:return h.jsx(Ld,{})}};return h.jsx("div",{className:`min-h-screen bg-gray-100 dark:bg-gray-900 ${l?"dark":""}`,children:h.jsxs("div",{className:"flex",children:[h.jsx(rm,{activeTab:s,setActiveTab:a}),h.jsxs("div",{className:"flex-1",children:[h.jsx(nm,{darkMode:l,setDarkMode:u}),h.jsx("main",{className:"p-6",children:f()})]})]})})},dm=()=>h.jsx(wp,{children:h.jsx(Tg,{children:h.jsx(cm,{})})});yp.createRoot(document.getElementById("root")).render(h.jsx(Z.StrictMode,{children:h.jsx(dm,{})}));
